[{"id":"31a861b85a2c5696a7a9b4dfe9060a08","title":"å½’å¹¶æ’åºåŸºç¡€","content":"å‰è¦å›é¡¾å‰é¢æˆ‘ä»¬å­¦ä¹ äº†é€‰æ‹©æ’åºå’Œæ’å…¥æ’åºï¼Œæ¯”è¾ƒå¥½ç†è§£ï¼Œä½†æ˜¯å¤æ‚åº¦æ˜¯O(n^2)\nä¸æ˜¯è¯´O(n^2)ä¸å¥½ï¼Œåœ¨æ•°æ®é‡ä¸å¤§çš„æ—¶å€™ï¼Œå…¶å®æ˜¯å¯ä»¥ç”¨çš„ï¼Œå› ä¸ºå®ç°ç®€å•ã€‚\næœ‰æ²¡æœ‰æ›´å¥½çš„æ’åºæ–¹æ¡ˆå‘¢ï¼Ÿ\nä¸‹é¢çœ‹çœ‹æ—¶é—´å¤æ‚åº¦æ˜¯O(nlogn)çš„æ’åºç®—æ³•ï¼Œå½’å¹¶æ’åºã€‚\næ€è·¯å‡å¦‚è¦å¯¹ä¸‹é¢çš„æ•°ç»„æ’åº\n\nå½’å¹¶æ’åºçš„æ€è·¯æ˜¯ï¼šæŠŠæ•°ç»„å¯¹åŠåˆ†ï¼Œæƒ³åŠæ³•æŠŠå·¦è¾¹çš„æ•°ç»„æ’åºï¼ŒæŠŠå³åŠéƒ¨åˆ†æ’åºï¼Œæœ€ååˆå¹¶ã€‚\nåœ¨æ’åºå·¦åŠéƒ¨åˆ†æ—¶ï¼Œå†æŠŠå·¦åŠéƒ¨åˆ†åœ¨å¯¹åŠåˆ†ï¼Œå¹¶æ’åºï¼Œåˆå¹¶ã€‚\n\nè¿™æ ·å¯¹åŠåˆ†ï¼Œåˆ†åˆ°æœ€åï¼Œæ¯ä¸€éƒ¨åˆ†åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå°±ä¸èƒ½å†åˆ†äº†ï¼Œç„¶åé¡ºåºä¹Ÿæ’å¥½äº†ï¼Œåªéœ€è¦æ¯éƒ¨åˆ†ä¾æ­¤å½’å¹¶ã€‚\næ—¶é—´å¤æ‚åº¦åˆ†ææˆ‘ä»¬çœ‹ä¸‹åˆ†æˆäº†å‡ å±‚ï¼Œ\n\næ€»å…±æœ‰log(n)å±‚ã€‚åˆ†æï¼šæ¯æ¬¡å¯¹åŠåˆ†ï¼Œåˆ†å¤šå°‘æ¬¡ï¼Ÿlogä»¥2ä¸ºåº•ï¼Œ8çš„å¯¹æ•°ï¼Œæ˜¯4ã€‚\nå†ä»¥O(n)çš„ç®—æ³•å½’å¹¶ï¼Œæ‰€ä»¥æ€»ä½“å¤æ‚åº¦æ˜¯O(nlogn)ã€‚\nå®ç°æŠ€å·§ä½¿ç”¨é€’å½’æ€æƒ³ã€‚\néœ€è¦å¼€è¾Ÿä¸´æ—¶ç©ºé—´ï¼Œè¾…åŠ©å½’å¹¶ã€‚\nä½¿ç”¨ä¸‰ä¸ªç´¢å¼•å¯¹å½’å¹¶è¿‡ç¨‹è·Ÿè¸ªã€‚\n\nè“è‰²çš„ç®­å¤´ï¼Œè¡¨ç¤ºæœ€ç»ˆåœ¨å½’å¹¶çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬éœ€è¦è·Ÿè¸ªçš„ä½ç½®ã€‚\nä¸¤ä¸ªçº¢è‰²çš„ç®­å¤´æŒ‡å‘ä¸¤ä¸ªæ’å¥½åºçš„æ•°ç»„å½“å‰æˆ‘ä»¬è¦è€ƒè™‘çš„å…ƒç´ ã€‚\nå½’å¹¶æ’åºè¿‡ç¨‹æˆ‘ä»¬è€ƒè™‘2ï¼Œ1è°åº”è¯¥å…ˆæ”¾åˆ°æœ€ç»ˆæ•°ç»„ä¸­\n\n1æ¯”2å°ï¼Œå°†1æ”¾å…¥æœ€ç»ˆæ•°ç»„ä¸­ï¼Œè“è‰²ç®­å¤´ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®\n\nä¸æ­¤åŒæ—¶ï¼Œ1åŸå…ˆæ‰€åœ¨æ•°æ®çš„çº¢è‰²æŒ‡é’ˆï¼Œè€ƒè™‘ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®\n\næ­¤æ—¶1å·²ç»åœ¨åŸæ•°ç»„ä¸­æ’å¥½åºäº†ï¼Œ\nåœ¨è€ƒè™‘2å’Œ4ï¼Œ2æ›´å°\n\n2æ”¾å…¥åŸæ•°ç»„ç¬¬äºŒä¸ªä½ç½®ï¼ŒåŒæ—¶åŸæ•°ç»„çš„è“è‰²æŒ‡é’ˆå‘åç§»ä¸€ä½ï¼Œ\n\nä¸æ­¤åŒæ—¶ï¼Œ2åŸæ¥æ‰€åœ¨æ•°ç»„çš„çº¢è‰²æŒ‡é’ˆï¼Œå‘åç§»åˆ°ä¸€ä¸ªä½ç½®\n\nå†è€ƒè™‘3å’Œ4ï¼Œ\n\n3æ¯”4å°ï¼Œ3æ”¾å…¥åŸæ•°ç»„çš„è“è‰²æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®ï¼ŒåŸæ•°ç»„è“è‰²æŒ‡é’ˆå‘åç§»åŠ¨ä¸€ä½\n\nä¸æ­¤åŒæ—¶ï¼Œ3æ‰€åœ¨åŸæ•°ç»„çš„çº¢è‰²æŒ‡é’ˆï¼Œå‘åç§»åŠ¨ä¸€ä½ã€‚\n\næ­¤æ—¶æ¯”è¾ƒ6å’Œ4ï¼Œ4æ¯”6å°ï¼Œ4æ”¾åˆ°åŸæ•°ç»„çš„è“è‰²æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®ï¼ŒåŸæ•°ç»„è“è‰²æŒ‡é’ˆå‘åç§»åŠ¨ä¸€ä½ï¼ŒåŒæ—¶4æ‰€åœ¨åŸæ•°ç»„çš„çº¢è‰²æŒ‡é’ˆå‘åç§»åŠ¨ä¸€ä½ã€‚\n\n\næŒ‡é’ˆå°±ç»ªåï¼Œå†è€ƒè™‘6å’Œ5æ¯”è¾ƒï¼Œä¾æ­¤ç±»æ¨ã€‚\néš¾ç‚¹ä½¿ç”¨äº†ä¸‰ä¸ªç´¢å¼•ï¼ˆæŒ‡é’ˆï¼‰ï¼Œå¿…é¡»å®šä¹‰æ¸…æ¥šã€‚\n\nå®šä¹‰iå’Œjï¼Œä¸ºå½“å‰æ­£åœ¨è€ƒè™‘çš„å…ƒç´ ï¼Œkç”¨æ¥æŒ‡å‘iå’Œjæ¯”è¾ƒåï¼Œæœ€ç»ˆåº”è¯¥æ”¾åˆ°å½’å¹¶æ•°ç»„ä¸­çš„ä½ç½®ã€‚\næ³¨æ„ï¼Œkè¡¨ç¤ºçš„æ˜¯ä¸‹ä¸€ä¸ªéœ€è¦æ”¾ç½®çš„ä½ç½®ï¼Œä¸æ˜¯å½’å¹¶åçš„æœ€åä½ç½®ã€‚\nç»´æŒä¸‰ä¸ªå˜é‡åœ¨å®ç°è¿‡ç¨‹ä¸­ï¼Œå§‹ç»ˆç¬¦åˆæˆ‘ä»¬çš„å®šä¹‰ï¼Œæ˜¯æ­£ç¡®å®ç°çš„åŸºç¡€ã€‚\nä¸ºäº†é˜²æ­¢è¶Šç•Œï¼Œéœ€è¦å®šä¹‰å¦å¤–ä¸¤ä¸ªå˜é‡l(left)å’Œr(right)ï¼Œåˆ†åˆ«è¡¨ç¤ºæœ€å·¦è¾¹å’Œæœ€å³è¾¹çš„ä½ç½®ã€‚\n\nè¿˜éœ€è¦ä¸€ä¸ªè¡¨ç¤ºå·²ç»æ’å¥½åºçš„ä¸­é—´æ•°ç»„çš„æœ€åä¸€ä¸ªä½ç½®mï¼ˆmiddleï¼‰ã€‚\n\nC++å®ç°main.cpp\n#include &lt;iostream&gt;\n#include &quot;SortTestHelper.h&quot;\n#include &quot;InsertionSort.h&quot;\n\nusing namespace std;\n\n\n&#x2F;&#x2F; å°†arr[l...mid]å’Œarr[mid+1...r]ä¸¤éƒ¨åˆ†è¿›è¡Œå½’å¹¶\ntemplate&lt;typename  T&gt;\nvoid __merge(T arr[], int l, int mid, int r)&#123;\n\n    &#x2F;&#x2F;* VSä¸æ”¯æŒåŠ¨æ€é•¿åº¦æ•°ç»„, å³ä¸èƒ½ä½¿ç”¨ T aux[r-l+1]çš„æ–¹å¼ç”³è¯·auxçš„ç©ºé—´\n    &#x2F;&#x2F;* ä½¿ç”¨VSçš„åŒå­¦, è¯·ä½¿ç”¨newçš„æ–¹å¼ç”³è¯·auxç©ºé—´\n    &#x2F;&#x2F;* ä½¿ç”¨newç”³è¯·ç©ºé—´, ä¸è¦å¿˜äº†åœ¨__mergeå‡½æ•°çš„æœ€å, deleteæ‰ç”³è¯·çš„ç©ºé—´:)\n\n    &#x2F;&#x2F;è¾…åŠ©ç©ºé—´å¯¹å¤§å°ï¼Œç”±äºæ˜¯å‰é—­åé—­åŒºé—´ï¼Œæ‰€ä»¥æ˜¯r-l+1\n    T aux[r-l+1];\n    &#x2F;&#x2F;T *aux &#x3D; new T[r-l+1];\n\n    &#x2F;&#x2F;ä¸´æ—¶ç©ºé—´åˆå§‹åŒ–\n    for( int i &#x3D; l ; i &lt;&#x3D; r; i ++ )\n        &#x2F;&#x2F;auxæ˜¯ä»é›¶å¼€å§‹çš„ï¼Œä½†æ˜¯å¤„ç†çš„arrç©ºé—´æ˜¯åŠ¨æ€çš„lå¼€å§‹çš„ï¼Œä¸¤ä¸ªæ•°ç»„æœ‰ä¸€ä¸ªlçš„è·ç¦»åç§»\n        aux[i-l] &#x3D; arr[i];\n\n    &#x2F;&#x2F; åˆå§‹åŒ–ï¼ŒiæŒ‡å‘å·¦åŠéƒ¨åˆ†çš„èµ·å§‹ç´¢å¼•ä½ç½®lï¼›jæŒ‡å‘å³åŠéƒ¨åˆ†èµ·å§‹ç´¢å¼•ä½ç½®mid+1\n    int i &#x3D; l, j &#x3D; mid+1;\n    &#x2F;&#x2F;ä»léå†åˆ°rï¼Œå·¦è¾¹éå†åˆ°å³è¾¹ï¼Œå†³å®škçš„ä½ç½®\n    for( int k &#x3D; l ; k &lt;&#x3D; r; k ++ )&#123;\n\n        if( i &gt; mid )&#123;  &#x2F;&#x2F; å¦‚æœå·¦åŠéƒ¨åˆ†å…ƒç´ å·²ç»å…¨éƒ¨å¤„ç†å®Œæ¯•\n            arr[k] &#x3D; aux[j-l]; j ++;\n        &#125;\n        else if( j &gt; r )&#123;  &#x2F;&#x2F; å¦‚æœå³åŠéƒ¨åˆ†å…ƒç´ å·²ç»å…¨éƒ¨å¤„ç†å®Œæ¯•\n            arr[k] &#x3D; aux[i-l]; i ++;\n        &#125;\n        else if( aux[i-l] &lt; aux[j-l] ) &#123;  &#x2F;&#x2F; å·¦åŠéƒ¨åˆ†æ‰€æŒ‡å…ƒç´  &lt; å³åŠéƒ¨åˆ†æ‰€æŒ‡å…ƒç´ \n            arr[k] &#x3D; aux[i-l]; i ++;\n        &#125;\n        else&#123;  &#x2F;&#x2F; å·¦åŠéƒ¨åˆ†æ‰€æŒ‡å…ƒç´  &gt;&#x3D; å³åŠéƒ¨åˆ†æ‰€æŒ‡å…ƒç´ \n            arr[k] &#x3D; aux[j-l]; j ++;\n        &#125;\n    &#125;\n\n    &#x2F;&#x2F;delete[] aux;\n&#125;\n\n&#x2F;&#x2F; é€’å½’ä½¿ç”¨å½’å¹¶æ’åº,å¯¹arr[l...r]çš„èŒƒå›´è¿›è¡Œæ’åº\ntemplate&lt;typename T&gt;\nvoid __mergeSort(T arr[], int l, int r)&#123;\n\n    &#x2F;&#x2F;å¤„ç†é€’å½’åˆ°åº•çš„æƒ…å†µï¼Œl&gt;&#x3D;rè¡¨ç¤ºè¦å¤„ç†çš„æ˜¯è‡³å¤šä¸€ä¸ªå…ƒç´ çš„æƒ…å†µ\n    if( l &gt;&#x3D; r )\n        return;\n\n    &#x2F;&#x2F;è®¡ç®—ä¸­ç‚¹ä½ç½® æ€è€ƒï¼šå½“lå’Œrå¾ˆå¤§æ—¶ï¼Œl+rå¯èƒ½ä¼šæº¢å‡ºï¼Œå¦‚ä½•é¿å…\n    int mid &#x3D; (l+r)&#x2F;2;\n    &#x2F;&#x2F;å¯¹ä¸€åŠè¿›è¡Œå½’å¹¶æ’åº\n    __mergeSort(arr, l, mid);\n    &#x2F;&#x2F;å¯¹å¦ä¸€åŠè¿›è¡Œå½’å¹¶æ’åº\n    __mergeSort(arr, mid+1, r);\n    &#x2F;&#x2F;åˆå¹¶ä¸Šé¢å¯¹ä¸¤åŠæ•°æ®\n    __merge(arr, l, mid, r);\n&#125;\n\ntemplate&lt;typename T&gt;\nvoid mergeSort(T arr[], int n)&#123;\n\n    __mergeSort( arr , 0 , n-1 );\n&#125;\n\n\n&#x2F;&#x2F; æ¯”è¾ƒInsertionSortå’ŒMergeSortä¸¤ç§æ’åºç®—æ³•çš„æ€§èƒ½æ•ˆç‡\n&#x2F;&#x2F; æ•´ä½“è€Œè¨€, MergeSortçš„æ€§èƒ½æœ€ä¼˜, å¯¹äºè¿‘ä¹æœ‰åºçš„æ•°ç»„çš„ç‰¹æ®Šæƒ…å†µ, è§æµ‹è¯•2çš„è¯¦ç»†æ³¨é‡Š\nint main() &#123;\n\n    &#x2F;&#x2F; Merge Sortæ˜¯æˆ‘ä»¬å­¦ä¹ çš„ç¬¬ä¸€ä¸ªO(nlogn)å¤æ‚åº¦çš„ç®—æ³•\n    &#x2F;&#x2F; å¯ä»¥åœ¨1ç§’ä¹‹å†…è½»æ¾å¤„ç†100ä¸‡æ•°é‡çº§çš„æ•°æ®\n    &#x2F;&#x2F; æ³¨æ„ï¼šä¸è¦è½»æ˜“å°è¯•ä½¿ç”¨SelectionSort, InsertionSortæˆ–è€…BubbleSortå¤„ç†100ä¸‡çº§çš„æ•°æ®\n    &#x2F;&#x2F; å¦åˆ™ï¼Œä½ å°±è§è¯†äº†O(n^2)çš„ç®—æ³•å’ŒO(nlogn)ç®—æ³•çš„æœ¬è´¨å·®å¼‚ï¼šï¼‰\n    int n &#x3D; 50000;\n\n    &#x2F;&#x2F; æµ‹è¯•1 ä¸€èˆ¬æ€§æµ‹è¯•\n    cout&lt;&lt;&quot;Test for random array, size &#x3D; &quot;&lt;&lt;n&lt;&lt;&quot;, random range [0, &quot;&lt;&lt;n&lt;&lt;&quot;]&quot;&lt;&lt;endl;\n    int* arr1 &#x3D; SortTestHelper::generateRandomArray(n,0,n);\n    int* arr2 &#x3D; SortTestHelper::copyIntArray(arr1, n);\n\n    SortTestHelper::testSort(&quot;Insertion Sort&quot;, insertionSort, arr1, n);\n    SortTestHelper::testSort(&quot;Merge Sort&quot;,     mergeSort,     arr2, n);\n\n    delete[] arr1;\n    delete[] arr2;\n\n    cout&lt;&lt;endl;\n\n\n    &#x2F;&#x2F; æµ‹è¯•2 æµ‹è¯•è¿‘ä¹æœ‰åºçš„æ•°ç»„\n    &#x2F;&#x2F; å¯¹äºè¿‘ä¹æœ‰åºçš„æ•°ç»„, æ•°ç»„è¶Šæœ‰åº, InsertionSortçš„æ—¶é—´æ€§èƒ½è¶Šè¶‹è¿‘äºO(n)\n    &#x2F;&#x2F; æ‰€ä»¥å¯ä»¥å°è¯•, å½“swapTimesæ¯”è¾ƒå¤§æ—¶, MergeSortæ›´å¿«\n    &#x2F;&#x2F; ä½†æ˜¯å½“swapTimeså°åˆ°ä¸€å®šç¨‹åº¦, InsertionSortå˜å¾—æ¯”MergeSortå¿«\n    int swapTimes &#x3D; 10;\n    assert( swapTimes &gt;&#x3D; 0 );\n\n    cout&lt;&lt;&quot;Test for nearly ordered array, size &#x3D; &quot;&lt;&lt;n&lt;&lt;&quot;, swap time &#x3D; &quot;&lt;&lt;swapTimes&lt;&lt;endl;\n    arr1 &#x3D; SortTestHelper::generateNearlyOrderedArray(n,swapTimes);\n    arr2 &#x3D; SortTestHelper::copyIntArray(arr1, n);\n\n    SortTestHelper::testSort(&quot;Insertion Sort&quot;, insertionSort, arr1, n);\n    SortTestHelper::testSort(&quot;Merge Sort&quot;,     mergeSort,     arr2, n);\n\n    delete[] arr1;\n    delete[] arr2;\n\n    return 0;\n&#125;\n\nå®Œæ•´ä»£ç åœ°å€\nä¼˜åŒ–ä¼˜åŒ–ç‚¹ä¸€åœ¨æ•°æ®åŸºæœ¬æœ‰åºçš„æƒ…å†µä¸‹ï¼Œå½’å¹¶æ’åºæ¯”æ’å…¥æ’åºæ€§èƒ½è¿˜æ˜¯å·®çš„ã€‚\nä»£ç å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œåªæœ‰åœ¨arr[mid]&gt;arr[mid+1]æ—¶ï¼Œæ‰å½’å¹¶ï¼Œå¦åˆ™å·²ç»ä»å°åˆ°å¤§æ’å¥½äº†ï¼Œå°±ä¸å¿…å½’å¹¶ï¼Œä»è€Œåœ¨åŸºæœ¬æœ‰åºçš„æ—¶å€™å‡å°‘æ’åºæ“ä½œã€‚\n&#x2F;&#x2F;å¯¹ä¸€åŠè¿›è¡Œå½’å¹¶æ’åº\n    __mergeSort(arr, l, mid);\n    &#x2F;&#x2F;å¯¹å¦ä¸€åŠè¿›è¡Œå½’å¹¶æ’åº\n    __mergeSort(arr, mid+1, r);\n    if(arr[mid]&gt;arr[mid+1]) &#123;\n        &#x2F;&#x2F;åˆå¹¶ä¸Šé¢å¯¹ä¸¤åŠæ•°æ®\n        __merge(arr, l, mid, r);\n    &#125;\n\n\n\n\n\n\n\n\n\n\nè¿™é‡Œæ€»ç»“ä¸€ä¸‹è®¾è®¡æ’åºç®—æ³•æ—¶ï¼Œéœ€è¦è€ƒè™‘çš„è®¾è®¡ç‚¹ï¼š\n\nè€ƒè™‘æ˜¯å¦è¦å¯¹è¿‘ä¹æœ‰åºçš„æ•°æ®è¿›è¡Œæ’åº\n\nä¼˜åŒ–ç‚¹äºŒåœ¨æ•°æ®é‡å°çš„æ—¶å€™ï¼Œæ•°ç»„è¿‘ä¹æœ‰åºçš„æ¦‚ç‡å¤§ï¼Œæ’å…¥æ’åºæœ‰ä¼˜åŠ¿ï¼›\nåœ¨æ•°æ®é‡å°çš„æ—¶å€™ï¼Œæ’å…¥æ’åºæ˜¯æ¯”å½’å¹¶æ’åºå¿«çš„ã€‚\næ‰€ä»¥ï¼Œå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚\n&#x2F;&#x2F; ä¼˜åŒ–2: å¯¹äºå°è§„æ¨¡æ•°ç»„, ä½¿ç”¨æ’å…¥æ’åº\n    if( r - l &lt;&#x3D; 15 )&#123;\n        insertionSort(arr, l, r);\n        return;\n    &#125;\n\nå®Œæ•´ä»£ç åœ°å€\næ€»ç»“æœ¬å°ç»“ä»‹ç»äº†å½’å¹¶æ’åºç®—æ³•\n\nå½’å¹¶æ’åºæ˜¯ä¸€ç§æ‹†åˆ†åˆå¹¶çš„æ€è·¯\nä½¿ç”¨é€’å½’çš„æŠ€å·§å®ç°\néœ€è¦æ³¨æ„ç®—æ³•çš„å®ç°è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨åˆ°ä¸€äº›è¾…åŠ©çš„æŒ‡é’ˆå’Œä¸´æ—¶ç©ºé—´\nå½’å¹¶æ’åºçš„æ•ˆç‡æ˜¯O(nlogn)ï¼Œä½†æ˜¯åœ¨æ•°æ®é‡ä¸å¤§æ—¶ï¼Œæ’å…¥æ’åºæ•ˆç‡æ›´é«˜\nåœ¨æ•°ç»„è¿‘ä¹æœ‰åºçš„æ—¶å€™ï¼Œå¯ä»¥åšä¸€ç‚¹ä¼˜åŒ–ï¼Œå‡å°‘å½’å¹¶æ¬¡æ•°\n\n","slug":"å½’å¹¶æ’åºåŸºç¡€","date":"2021-03-22T14:18:33.000Z","categories_index":"Algorithm,C++","tags_index":"ç®—æ³•,C++","author_index":"Aurora"},{"id":"f2ea62009b2a302d5e2076e5efd27611","title":"æ’å…¥æ’åº","content":"å‰è¦å›é¡¾å‰é¢æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¯¹æ•°æ®æ’åºçš„æ–¹æ¡ˆï¼Œæ˜¯é€‰æ‹©æ’åºã€‚\næ’åºçš„è¿‡ç¨‹ï¼Œå›é¡¾ä¸€ä¸‹ã€‚\nå¦‚æœè¦å¯¹æ•°ç»„è¿›è¡Œä»å°åˆ°å¤§æ’åºï¼Œé€‰æ‹©æ’åºæ€ä¹ˆåšå‘¢ï¼Ÿ\næˆ‘ä»¬å¯¹æ•°ç»„çš„æ¯ä¸ªä½ç½®è¿›è¡Œéå†ï¼Œä¸¾ä¸ªä¾‹å­ï¼š\næ¯”å¦‚ä¸€å¼€å§‹ï¼Œç¬¬ä¸€ä¸ªä½ç½®ï¼Œæˆ‘ä»¬è¦æ”¾ç½®æœ€å°çš„å…ƒç´ åˆ°è¿™ä¸ªä½ç½®ï¼Œäºæ˜¯ä»æ‰€æœ‰å…ƒç´ ä¸­é€‰æ‹©ä¸€ä¸ªæœ€å°çš„ã€‚ç„¶åå’Œç¬¬ä¸€ä¸ªä½ç½®çš„å…ƒç´ äº¤æ¢ï¼Œè¿™æ ·ï¼Œå°±ç¡®å®šäº†æœ€å°çš„æ•°ã€‚\nä¸‹é¢ç¡®å®šç¬¬äºŒå°çš„æ•°ï¼Œå°±æ˜¯ä»ç¬¬ä¸€ä¸ªä½ç½®åé¢æ‰€æœ‰çš„å…ƒç´ ä¸­æ‰¾åˆ°æœ€å°çš„ï¼Œç„¶åäº¤æ¢ä½ç½®ã€‚\nä¾æ­¤ç±»æ¨ï¼Œå®Œæˆä»å°åˆ°å¤§çš„æ’åºã€‚\nè¿™å°±æ˜¯é€‰æ‹©æ’åºçš„ä¸€èˆ¬è¿‡ç¨‹ã€‚\næ€»ä½“æ¥çœ‹ï¼Œéœ€è¦ä¸¤å±‚å¾ªç¯å»å®Œæˆä¸Šè¿°è¿‡ç¨‹ï¼Œç¬¬ä¸€å±‚å¾ªç¯ï¼Œç”¨äºç¡®å®šæ¯ä¸ªä½ç½®ä¸Šçš„åº”è¯¥å­˜æ”¾çš„åˆé€‚çš„æ•°ã€‚\nç¬¬äºŒå±‚æ˜¯åœ¨å‰©ä½™æœªæ’åºçš„å…ƒç´ ä¸­æ‰¾åˆ°è¿™ä¸ªåˆé€‚çš„æ•°çš„ä½ç½®ã€‚\næ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)\né™¤äº†é€‰æ‹©æ’åºï¼Œæœ‰æ²¡æœ‰å…¶ä»–çš„æ–¹æ¡ˆå‘¢ï¼Ÿ\næœ‰ï¼Œå†æ¥çœ‹çœ‹æ’å…¥æ’åºï¼Œæ˜¯å¦ä¸€ç§æ€è·¯ã€‚\næ’å…¥æ’åºå‡å¦‚è¦å¯¹ä¸‹é¢çš„æ•°ç»„æ’åº\n\nç¬¬ä¸€ä¸ªå…ƒç´ 8ï¼Œä¸åŠ¨ï¼Œå¯¹äº8ï¼Œä»–æ˜¯æ’å¥½åºçš„ï¼Œç»§ç»­ä¸‹ä¸€ä¸ªå…ƒç´ \n\næˆ‘ä»¬æƒ³è¦æŠŠç¬¬äºŒä¸ªå…ƒç´ 6ï¼Œæ’å…¥åˆ°å‰é¢å…ƒç´ çš„åˆé€‚ä½ç½®ï¼Œ\n\n6æ¯”8å°ï¼Œäº¤æ¢ä½ç½®\n\nä¸‹é¢å¼€å§‹ï¼Œå°†2æ’å…¥åˆ°å‰é¢åˆé€‚çš„ä½ç½®ï¼Œ\n\n2å’Œ8æ¯”è¾ƒï¼Œæ¯”8å°ï¼Œå’Œ8äº¤æ¢ä½ç½®\n\n2å†å’Œ6æ¯”ï¼Œ2æ¯”6å°ï¼Œäº¤æ¢ä½ç½®\n\nä¸‹é¢å¼€å§‹ï¼Œå¯¹3\n3ä¾æ¬¡æ¯”è¾ƒå‰é¢çš„æ•°ï¼Œç„¶åäº¤æ¢ä½ç½®ï¼Œç›´åˆ°æ‰¾åˆ°åˆé€‚çš„ä½ç½®\n\n\næ’å…¥æ’åºçš„åŸç†ï¼Œå¯ä»¥æå‰ç»ˆæ­¢å¾ªç¯ï¼ŒåŸåˆ™ä¸Šæ¯”é€‰æ‹©æ’åºå¿«ï¼Œä½†æ˜¯è¯·çœ‹ä¸‹é¢çš„å†™æ³•ã€‚\næ’å…¥æ’åºä»£ç for (int i &#x3D; 1; i &lt; n; ++i) &#123;\n\n        &#x2F;&#x2F;æ‰¾åˆ°åˆé€‚çš„ä½ç½®æ’å…¥\n&#x2F;&#x2F;        for (int j &#x3D; i; j &gt; 0; j--) &#123;\n&#x2F;&#x2F;            if(arr[j] &lt; arr[j-1])&#123;\n&#x2F;&#x2F;                swap(arr[j], arr[j-1]);\n&#x2F;&#x2F;            &#125;else&#123;\n&#x2F;&#x2F;                break;\n&#x2F;&#x2F;            &#125;\n&#x2F;&#x2F;        &#125;\n\n        &#x2F;&#x2F; å†™æ³•2\n        for( int j &#x3D; i ; j &gt; 0 &amp;&amp; arr[j] &lt; arr[j-1] ; j -- )\n            swap( arr[j] , arr[j-1] );\n    &#125;\n\næ’å…¥æ’åºæ”¹è¿›ä¸Šé¢çš„swapäº¤æ¢æ“ä½œæ¯”æ¯”è¾ƒæ“ä½œæ…¢ã€‚æˆ‘ä»¬æ˜¯æ”¾åœ¨å†…å±‚forå¾ªç¯é‡Œæ‰§è¡Œçš„ï¼Œæ•ˆç‡å·®ã€‚å¯¹æ¯”é€‰æ‹©æ’åºï¼Œæˆ‘ä»¬é€šè¿‡æ¯”è¾ƒæ‰¾åˆ°è¦æ’å…¥çš„ä½ç½®ï¼Œåœ¨å¤–å±‚å¾ªç¯æ’å…¥ï¼Œæ‰€ä»¥ä¸Šé¢çš„æ’å…¥æ’åºçš„å†™æ³•æ•ˆç‡åè€Œæ¯”é€‰æ‹©æ’åºæ…¢ã€‚\n\nå…ˆå¤åˆ¶ä¸€ä»½6ï¼Œåˆ¤æ–­6æ˜¯ä¸æ˜¯é€‚åˆå½“å‰ä½ç½®\n\nå‘ç°6æ¯”8å°ï¼Œ8åº”è¯¥åœ¨å½“å‰ä½ç½®ï¼ŒæŠŠ8å‘åç§»åŠ¨ä¸€ä½\n\nç„¶åæ¯”è¾ƒ6ç°åœ¨æ˜¯ä¸æ˜¯åº”è¯¥åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œå‰é¢æ²¡æœ‰å¯æ¯”çš„å…ƒç´ äº†ï¼Œæ‰€ä»¥æŠŠ6èµ‹å€¼åˆ°ç¬¬ä¸€ä¸ªä½ç½®\n\n6ã€8æ­¤æ—¶æ’å¥½åº\n\nå†è€ƒå¯Ÿ2\n\nå…ˆå¤åˆ¶ä¸€ä»½2çš„å‰¯æœ¬\n\n2æ¯”å‰ä¸€ä¸ªæ•°8å°ï¼Œæ‰€ä»¥åº”è¯¥æŠŠ8å‘åç§»åŠ¨ä¸€ä½\n\nå†å‘å‰æ¯”è¾ƒï¼Œ2å’Œ6æ¯”è¾ƒï¼Œæ¯”6å°ï¼Œåº”è¯¥å°†6å‘åç§»åŠ¨ä¸€ä½ã€‚\n\næ­¤æ—¶2æ‰€åœ¨çš„ä½ç½®ï¼Œå·²ç»æ˜¯ç¬¬ä¸€ä¸ªä½ç½®äº†ï¼Œå‰é¢æ²¡æœ‰å¯æ¯”çš„å…ƒç´ ï¼Œé‚£ä¹ˆå°†2å¤åˆ¶åˆ°ç¬¬ä¸€ä¸ªä½ç½®\n\næ­¤æ—¶ï¼Œ2ã€6ã€8å·²ç»æ’å¥½åºï¼Œå†çœ‹ä¸‹ä¸€ä¸ªä½ç½®çš„æ•°3\nä¾ç„¶å¤åˆ¶è¿™ä¸ªä½ç½®ä¸Šçš„æ•°3ã€‚\n\nä¾æ¬¡å’Œå‰é¢çš„æ•°æ¯”è¾ƒï¼Œå¦‚æœæ¯”å‰é¢çš„æ•°å°ï¼Œå‰é¢çš„æ•°å‘åç§»åŠ¨ä¸€ä½ã€‚\n\n\n\n\nå’Œä¸€å¼€å§‹çš„ä¸åŒæ—¶ï¼Œæˆ‘ä»¬æŠŠä¸€æ¬¡æ¬¡çš„äº¤æ¢æ“ä½œæ”¹æˆäº†æ¯”è¾ƒ\ntemplate&lt;typename T&gt;\nvoid insertionSort(T arr[], int n)&#123;\n\n    for( int i &#x3D; 1 ; i &lt; n ; i ++ ) &#123;\n\n        &#x2F;&#x2F; å¯»æ‰¾å…ƒç´ arr[i]åˆé€‚çš„æ’å…¥ä½ç½®\n        &#x2F;&#x2F; å†™æ³•1\n&#x2F;&#x2F;        for( int j &#x3D; i ; j &gt; 0 ; j-- )\n&#x2F;&#x2F;            if( arr[j] &lt; arr[j-1] )\n&#x2F;&#x2F;                swap( arr[j] , arr[j-1] );\n&#x2F;&#x2F;            else\n&#x2F;&#x2F;                break;\n\n        &#x2F;&#x2F; å†™æ³•2\n&#x2F;&#x2F;        for( int j &#x3D; i ; j &gt; 0 &amp;&amp; arr[j] &lt; arr[j-1] ; j -- )\n&#x2F;&#x2F;            swap( arr[j] , arr[j-1] );\n\n        &#x2F;&#x2F; å†™æ³•3\n        &#x2F;&#x2F;ä½¿ç”¨eä¿å­˜æ¯ä¸€æ¬¡è¦å¤„ç†çš„å¤–å±‚å…ƒç´ \n        T e &#x3D; arr[i];\n        int j; &#x2F;&#x2F; jä¿å­˜å…ƒç´ eåº”è¯¥æ’å…¥çš„ä½ç½®\n        for (j &#x3D; i; j &gt; 0 &amp;&amp; arr[j-1] &gt; e; j--)\n            &#x2F;&#x2F;æŠŠå‰ä¸€ä¸ªä½ç½®çš„å…ƒç´ å‘åç§»åŠ¨ä¸€ä½\n            arr[j] &#x3D; arr[j-1];\n        &#x2F;&#x2F;å°†eæ”¾åˆ°åˆé€‚çš„ä½ç½®\n        arr[j] &#x3D; e;\n    &#125;\n\n    return;\n&#125;\n\næ’å…¥æ’åºï¼Œåœ¨æ•°ç»„åŸºæœ¬æœ‰åºçš„æƒ…å†µä¸‹ï¼Œæ•ˆç‡éå¸¸é«˜ï¼\né€‰æ‹©æ’åºå’Œæ’å…¥æ’åºæ¯”è¾ƒ\néƒ½æ˜¯O(n^2)å¤æ‚åº¦\næ’å…¥æ’åºåœ¨æ•°ç»„è¿‘ä¹æœ‰åºçš„æ—¶å€™ï¼Œæ•ˆç‡éå¸¸é«˜\n\nä¸ºä»€ä¹ˆæ’å…¥æ’åºåœ¨æ•°æ®è¿‘ä¹æœ‰åºæ—¶ï¼Œæ•ˆç‡æ¯”é€‰æ‹©æ’åºé«˜ã€‚\nå› ä¸ºé€‰æ‹©æ’åºï¼Œæ˜¯ä»å‰©ä½™ä½ç½®æ‰¾åˆ°æœ€å°çš„æ•°ï¼Œæ‰¾æœ€å°æ•°è¿™ä¸ªè¿‡ç¨‹ï¼Œè¦æ¯”è¾ƒå‰©ä½™çš„æ‰€æœ‰å…ƒç´ æ‰èƒ½æ‰¾åˆ°æœ€å°å€¼\næ’å…¥æ’åºï¼Œæ˜¯æŠŠå½“å‰ä½ç½®çš„å…ƒç´ å’Œå‰é¢æ’å¥½åºçš„å…ƒç´ æ¯”è¾ƒï¼Œæ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„ä½ç½®ï¼Œç”±äºå‰é¢æ˜¯æ’å¥½åºçš„ï¼Œ\næ‰€ä»¥åœ¨å…ƒç´ åŸºæœ¬æœ‰åºçš„æƒ…å†µä¸‹ï¼Œæ’å…¥æ¯”è¾ƒä¸éœ€è¦å’Œå‰é¢æ‰€æœ‰å…ƒç´ æ¯”è¾ƒï¼Œå°±èƒ½ç¡®å®šåˆé€‚çš„ä½ç½®ã€‚\n","slug":"æ’å…¥æ’åº","date":"2021-03-16T11:28:01.000Z","categories_index":"Algorithm,C++","tags_index":"ç®—æ³•,C++","author_index":"Aurora"},{"id":"6256a2c967d4226dbb5b05689bfb7d23","title":"MySQLè”åˆç´¢å¼•å’Œæœ€å·¦å‰ç¼€åŸåˆ™ç†è§£ä¸€","content":"å¦‚æœç»™ user è¡¨ä¸­çš„ username pwd å­—æ®µåˆ›å»ºäº†å¤åˆç´¢å¼•é‚£ä¹ˆä½¿ç”¨ä»¥ä¸‹SQL éƒ½æ˜¯å¯ä»¥å‘½ä¸­ç´¢å¼•:\nselect username from user where username&#x3D;&#39;zhangsan&#39; and pwd &#x3D;&#39;axsedf1sd&#39;\n\nselect username from user where pwd &#x3D;&#39;axsedf1sd&#39; and username&#x3D;&#39;zhangsan&#39;\n\nselect username from user where username&#x3D;&#39;zhangsan&#39;\n\nä½†æ˜¯ä½¿ç”¨\nselect username from user where pwd &#x3D;&#39;axsedf1sd&#39;\n\næ˜¯ä¸èƒ½å‘½ä¸­ç´¢å¼•çš„ã€‚\nä¸Šé¢æ˜¯ä»æœ€å·¦å‰ç¼€ç´¢å¼•è¿™ç¯‡æ–‡ç« çœ‹åˆ°çš„\nä¸ºä»€ä¹ˆselect username from user where pwd =&#39;axsedf1sd&#39; and username=&#39;zhangsan&#39;ä¼šèµ°ç´¢å¼•ï¼Ÿå› ä¸ºmysqlä¼˜åŒ–å™¨å¯¹è”åˆç´¢å¼•ï¼Œç­‰å€¼æ¡ä»¶ã€andæ¡ä»¶æœ‰ä¼˜åŒ–ï¼Œä¼šè°ƒæ•´é¡ºåºã€‚\næ‰©å±•ï¼šå¯ä»¥è¿›ä¸€æ­¥çœ‹çœ‹ä¼˜åŒ–å™¨ç›¸å…³çŸ¥è¯†ï¼Œæ›´å¥½çš„äº†è§£ä¼˜åŒ–å™¨çš„è¡Œä¸º\nUsing where; Using indexæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿä½¿ç”¨explainåˆ†æä¸‹é¢è¿™ä¸ªè¯­å¥\nEXPLAIN select username from user where pwd &#x3D;&#39;axsedf1sd&#39;\n\nå¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š\n\nçœ‹åˆ°typeæ˜¯indexï¼ŒExtraæ˜¯Using where; Using index\ntypeæ˜¯indexè¡¨ç¤ºä»€ä¹ˆæ„æ€ï¼Ÿ\n\n\n\n\n\n\n\n\ntypeåˆ—è¡¨ç¤ºå­˜å‚¨å¼•æ“æŸ¥è¯¢æ•°æ®æ—¶é‡‡ç”¨çš„æ–¹å¼ã€‚æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªå±æ€§ï¼Œé€šè¿‡å®ƒå¯ä»¥åˆ¤æ–­å‡ºæŸ¥è¯¢æ˜¯å…¨è¡¨æ‰«æè¿˜ æ˜¯åŸºäºç´¢å¼•çš„éƒ¨åˆ†æ‰«æã€‚å¸¸ç”¨å±æ€§å€¼å¦‚ä¸‹ï¼Œä»ä¸Šè‡³ä¸‹æ•ˆç‡ä¾æ¬¡å¢å¼ºã€‚\n\nALLï¼šè¡¨ç¤ºå…¨è¡¨æ‰«æï¼Œæ€§èƒ½æœ€å·®ã€‚\nindexï¼šè¡¨ç¤ºåŸºäºç´¢å¼•çš„å…¨è¡¨æ‰«æï¼Œå…ˆæ‰«æç´¢å¼•å†æ‰«æå…¨è¡¨æ•°æ®ã€‚\nrangeï¼šè¡¨ç¤ºä½¿ç”¨ç´¢å¼•èŒƒå›´æŸ¥è¯¢ã€‚ä½¿ç”¨&gt;ã€&gt;=ã€&lt;ã€&lt;=ã€inç­‰ç­‰ã€‚\nrefï¼šè¡¨ç¤ºä½¿ç”¨éå”¯ä¸€ç´¢å¼•è¿›è¡Œå•å€¼æŸ¥è¯¢ã€‚\neq_refï¼šä¸€èˆ¬æƒ…å†µä¸‹å‡ºç°åœ¨å¤šè¡¨joinæŸ¥è¯¢ï¼Œè¡¨ç¤ºå‰é¢è¡¨çš„æ¯ä¸€ä¸ªè®°å½•ï¼Œéƒ½åªèƒ½åŒ¹é…åé¢è¡¨çš„ä¸€ è¡Œç»“æœã€‚\nconstï¼šè¡¨ç¤ºä½¿ç”¨ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•åšç­‰å€¼æŸ¥è¯¢ï¼Œå¸¸é‡æŸ¥è¯¢ã€‚\nNULLï¼šè¡¨ç¤ºä¸ç”¨è®¿é—®è¡¨ï¼Œé€Ÿåº¦æœ€å¿«ã€‚\n\nå¯ä»¥çœ‹åˆ°ï¼Œtypeæ˜¯indexï¼Œæ•ˆç‡ä¸å¥½\nUsing where; Using indexæ˜¯ä»€ä¹ˆæ„æ€è¡¨ç¤ºåœ¨ç´¢å¼•æ ‘ä¸ŠåŒ…æ‹¬è¦æŸ¥æ‰¾çš„åˆ—ï¼Œä½†æ˜¯ä¸èƒ½æŒ‰ç…§é¡ºåºæŸ¥æ‰¾åˆ°ï¼Œå¿…é¡»é€šè¿‡æ¡ä»¶ç­›é€‰\nä»€ä¹ˆæ˜¯â€èµ°ç´¢å¼•â€ï¼Ÿå¦‚æœExtraåªæœ‰Using indexï¼Œè¡¨ç¤ºç´¢å¼•æ ‘ä¸Šæœ‰è¦æŸ¥æ‰¾çš„åˆ—ï¼Œå¹¶ä¸”å¯ä»¥æŒ‰ç…§é¡ºåºæŸ¥æ‰¾åˆ°ã€‚ä¹Ÿå°±æ˜¯å¸¸è¯´çš„â€èµ°ç´¢å¼•â€çš„æ„æ€\næ€»ç»“\nå¸¸è¯´çš„â€èµ°ç´¢å¼•â€ï¼Œç”¨explainåˆ†æåï¼ŒExtraåˆ—çš„å€¼æ˜¯Using indexï¼Œè€ŒUsing where;Using indexä¸èµ°ç´¢å¼•\n\nUsing where;Using indexè¡¨ç¤ºä¸èµ°ç´¢å¼•ï¼Œç´¢å¼•æ ‘ä¸Šèƒ½å¤Ÿæ‰«æåˆ°è¦æŸ¥æ‰¾çš„åˆ—ï¼Œä½†æ˜¯ä¸èƒ½æŒ‰ç…§é¡ºåºæŸ¥æ‰¾åˆ°ï¼Œåªèƒ½æŒ‰ç…§ç­›é€‰æ¡ä»¶æŸ¥æ‰¾\n\nâ€œèµ°ç´¢å¼•â€çš„æ„æ€æ˜¯ï¼Œè¦æŸ¥æ‰¾çš„åˆ—åœ¨ç´¢å¼•æ ‘ä¸Šå¯ä»¥æ‰«æåˆ°ï¼Œå¹¶ä¸”æ˜¯å¯ä»¥æŒ‰ç…§ç´¢å¼•é¡ºåºæŸ¥æ‰¾åˆ°ã€‚\n\n\n","slug":"æœ€å·¦å‰ç¼€","date":"2021-03-11T08:45:25.000Z","categories_index":"MySQL,æ•°æ®åº“","tags_index":"MySQL,æ•°æ®åº“è°ƒä¼˜","author_index":"Aurora"},{"id":"6b9ce45aac70d77e5b13dbe67f0c2d3a","title":"åŠ¨æ€ä»£ç†","content":"å¯ä»¥å¹²ä»€ä¹ˆ\nå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ï¼Œå¯ä»¥åœ¨ä¸ä¿®æ”¹åŸæœ‰ç±»çš„åŸºç¡€ä¸ŠåŠ¨æ€ä¸ºé€šè¿‡è¯¥ç±»è·å–çš„å¯¹è±¡æ·»åŠ æ–¹æ³•ã€ä¿®æ”¹è¡Œä¸ºï¼ˆå¢å¼ºï¼‰\nåŠ¨æ€ä»£ç†æ˜¯å®ç°é¢å‘åˆ‡é¢ç¼–ç¨‹AOPçš„åŸºç¡€\nAOPå¯ä»¥å¹²ä»€ä¹ˆï¼Ÿ\næ—¥å¿—ã€æ€§èƒ½ç›‘æ§ã€æƒé™æ£€æŸ¥ã€æ•°æ®åº“äº‹åŠ¡\nAOPåˆ‡é¢é€šè¿‡å°†åˆ‡é¢é€»è¾‘å’Œä¸»ä½“é€»è¾‘åˆ†ç¦»ï¼Œä½¿ä»£ç æ›´ä¼˜é›…ï¼Œå¯¹ä»£ç ä¾µå…¥ä½\n\n\n\nä»€ä¹ˆæ˜¯ä»£ç†å’Œç”Ÿæ´»ä¸­çš„ä»£ç†çš„æ„æ€ç±»ä¼¼ã€‚ä¸€èˆ¬è‡³å°‘æœ‰ä¸€ä¸ªå®é™…å¯¹è±¡ï¼Œä»£ç†çš„å¤–éƒ¨åŠŸèƒ½å’Œå®é™…å¯¹è±¡ä¸€èˆ¬æ˜¯ä¸€æ ·çš„ï¼Œç”¨æˆ·ä¸ä»£ç†æ‰“äº¤é“ï¼Œä¸ç›´æ¥æ¥è§¦å®é™…å¯¹è±¡ã€‚\nä»£ç†å­˜åœ¨çš„ä»·å€¼\nèŠ‚çœæˆæœ¬ï¼Œå®é™…å¯¹è±¡åˆ›å»ºçš„æˆæœ¬å¼€é”€å¤§ï¼ŒæŒ‰éœ€å»¶è¿ŸåŠ è½½ï¼Œåˆ›å»ºä»£ç†æ—¶å¹¶ä¸çœŸæ­£åˆ›å»ºå®é™…å¯¹è±¡ï¼Œè€Œåªæ˜¯ä¿å­˜å®é™…å¯¹è±¡çš„åœ°å€ï¼Œåœ¨éœ€è¦æ—¶å†åŠ è½½æˆ–åˆ›å»º\næ‰§è¡Œæƒé™æ£€æŸ¥ï¼Œä»£ç†æ£€æŸ¥æƒé™åï¼Œå†è°ƒç”¨å®é™…å¯¹è±¡\nå±è”½ç½‘ç»œå·®å¼‚å’Œå¤æ‚æ€§ï¼Œä»£ç†åœ¨æœ¬åœ°ï¼Œè€Œå®é™…å¯¹è±¡åœ¨å…¶ä»–æœåŠ¡å™¨ä¸Šï¼Œè°ƒç”¨æœ¬åœ°ä»£ç†æ—¶ï¼Œæœ¬åœ°ä»£ç†è¯·æ±‚å…¶ä»–æœåŠ¡å™¨\n\né™æ€ä»£ç†\nä¸šåŠ¡æ¥å£ã€å®é™…ç±»ã€ä»£ç†ç±»\n\nå®é™…ç±»å®ç°ä¸šåŠ¡æ¥å£ï¼Œå®ç°æ¥å£ä¸­çš„æ–¹æ³•\n\nä»£ç†ç±»ä¹Ÿå®ç°ä¸šåŠ¡æ¥å£ï¼Œå¹¶ç»´æŒä¸€ä¸ªä¸šåŠ¡æ¥å£å®ç°ç±»çš„å¼•ç”¨ï¼Œé€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥å®é™…ç±»çš„å¼•ç”¨ï¼Œå®ç°çš„æ–¹æ³•ä¸­å®é™…è°ƒç”¨çš„æ˜¯å®é™…ç±»çš„æ–¹æ³•\n\nå¯ä»¥åœ¨è°ƒç”¨å®é™…æ–¹æ³•çš„å‰åï¼Œåšå¢å¼ºé€»è¾‘ï¼Œæ¯”å¦‚åœ¨è°ƒç”¨å‰åè¾“å‡ºæ—¥å¿—\n\n\né™æ€ä»£ç†çš„ä»£ç†ç±»ï¼Œæ˜¯åœ¨å†™ä»£ç æ—¶å°±å›ºå®šçš„ï¼Œæ‰€ä»¥ç§°ä¸ºé™æ€ä»£ç†\n\nè¾“å‡ºè·Ÿè¸ªè°ƒè¯•ä¿¡æ¯æ˜¯ä¸€ä¸ªé€šç”¨éœ€æ±‚ï¼Œé™æ€ä»£ç†åªèƒ½ä¸ºæŸä¸ªç±»å¢å¼ºï¼Œè¦ä¸ºæŸäº›ç±»å¢å¼ºï¼Œåªèƒ½æ¯ä¸ªç±»éƒ½å†™ä¸€ä¸ªä»£ç†ç±»ï¼Œä¸ç°å®ã€‚è¿™å°±éœ€è¦åŠ¨æ€ä»£ç†äº†ã€‚\n\n\nå’Œé€‚é…å™¨ã€è£…é¥°å™¨çš„åŒºåˆ«\né€‚é…å™¨\né€‚é…å™¨æä¾›äº†ä¸€ä¸ªä¸ä¸€æ ·çš„æ–°æ¥å£\n\n\nè£…é¥°å™¨\nè£…é¥°å™¨æ˜¯å¯¹åŸæ¥å£èµ·åˆ°äº†è£…é¥°çš„ä½œç”¨ï¼Œå¯èƒ½å¢åŠ äº†æ–°æ¥å£ã€ä¿®æ”¹äº†åŸæœ‰çš„è¡Œä¸ºç­‰ï¼Œä»£ç†ä¸€èˆ¬ä¸æ”¹å˜æ¥å£\n\n\n\næˆ‘ä»¬ä¸è¿‡äºå¼ºè°ƒä»–ä»¬çš„å·®åˆ«ï¼Œæ²¡æœ‰äº‰è®ºçš„æ„ä¹‰ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä»£ç†çš„ä¸€ç§å˜ä½“\nä»€ä¹ˆæ˜¯åŠ¨æ€ä»£ç†ä»£ç†ç±»æ˜¯è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆçš„ã€‚\næ€ä¹ˆåŠ¨æ€ç”Ÿæˆï¼Ÿ\nåŠ¨æ€ä»£ç†çš„ä¸¤ç§æ–¹å¼JDKæä¾›çš„å®ç°InvocationHandlerçš„æ¥å£ï¼Œå®ç°å…¶invokeæ–¹æ³•ï¼Œè¿™å°±æ˜¯å®ç°å¢å¼ºé€»è¾‘invokeæ–¹æ³•ï¼Œä¸‰ä¸ªå‚æ•°\n\nproxyï¼Œä»£ç†å¯¹è±¡æœ¬èº«ï¼Œä¸€èˆ¬ä¸ç”¨\nmethodï¼Œæ­£åœ¨è¢«è°ƒç”¨çš„æ–¹æ³•\nargsï¼Œè¡¨ç¤ºæ–¹æ³•çš„å‚æ•°\n\næ€ä¹ˆåˆ›å»ºç±»é€šè¿‡Proxy.newProxyInstanceï¼Œä¸‰ä¸ªå‚æ•°\n\nclassloaderç±»åŠ è½½å™¨\nä»£ç†ç±»è¦å®ç°çš„æ¥å£åˆ—è¡¨\nå®ç°å¢å¼ºé€»è¾‘çš„ç±»ï¼Œå³å®ç°InvocationHandleræ¥å£çš„ç±»ï¼Œå¯¹ä»£ç†æ¥å£æ‰€æœ‰æ–¹æ³•çš„è°ƒç”¨éƒ½ä¼šè½¬ç»™è¯¥æ–¹æ³•\n\nè¿”å›æŸä¸ªæ¥å£åˆ—è¡¨ä¸­çš„ç±»å‹ï¼Œåªèƒ½å¼ºè½¬ä¸ºæ¥å£ï¼Œä¸èƒ½æ˜¯å®ç°ç±»\nç¤ºä¾‹public class SimpleJDKDynamicProxyDemo &#123;\n    interface IService &#123;\n        void sayHello();\n    &#125;\n\n    static class RealService implements IService &#123;\n\n        @Override\n        public void sayHello() &#123;\n            System.out.println(&quot;hello&quot;);\n        &#125;\n    &#125;\n\n    static class SimpleInvocationHandler implements InvocationHandler &#123;\n        private Object realObj;\n\n        public SimpleInvocationHandler(Object realObj) &#123;\n            this.realObj &#x3D; realObj;\n        &#125;\n\n        @Override\n        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;\n            System.out.println(&quot;entering &quot; + method.getName());\n            Object result &#x3D; method.invoke(realObj, args);\n            System.out.println(&quot;leaving &quot; + method.getName());\n            return result;\n        &#125;\n    &#125;\n\n    public static void main(String[] args) &#123;\n        IService realService &#x3D; new RealService();\n        IService proxyService &#x3D; (IService) Proxy.newProxyInstance(IService.class.getClassLoader(),\n                new Class&lt;?&gt;[] &#123; IService.class &#125;, new SimpleInvocationHandler(realService));\n        proxyService.sayHello();\n    &#125;\n&#125;\n\nåŸºæœ¬åŸç†ä¸Šé¢ä¾‹å­ç”Ÿæˆçš„ç±»å¦‚ä¸‹ï¼š\n\nç”Ÿæˆçš„ç±»æ˜¯Proxyçš„å­ç±»ï¼Œç»“åˆProxyç±»çœ‹\n\nä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œ$Proxy0çš„æ„é€ æ–¹æ³•ä¼ å…¥InvocationHandlerï¼Œæœ€ç»ˆèµ‹å€¼ç»™çˆ¶ç±»Proxyçš„å±æ€§hï¼Œåç»­çš„å…¶ä»–æ–¹æ³•è°ƒç”¨éƒ½è½¬å‘åˆ°è¿™ä¸ªInvocationHandlerçš„å­ç±»ä¸­ï¼Œæ¯”å¦‚ï¼ŒsayHelloæ–¹æ³•ï¼Œè°ƒç”¨çš„æ˜¯this.h.invoke(this, m3, null);å¯¹äºObjectä¸­çš„æ–¹æ³•ï¼Œå¦‚hashcodeã€equalså’ŒtoStringï¼Œ$Proxy0åŒæ ·è½¬å‘ç»™äº†InvocationHandler\næˆ‘ä»¬æ€ä¹ˆçŸ¥é“$Proxy0çš„å®šä¹‰çš„å‘¢ï¼Ÿå¯¹äºoracleçš„JVMï¼Œå¯ä»¥é…ç½®javaçš„ä¸€ä¸ªå±æ€§å¾—åˆ°ï¼Œæ¯”å¦‚java -Dsun.misc.ProxyGenerator.saveGeneratedFiles=true shuo.laoma.dynamic.c86.SimpleJDKDynamicProxyDemo\nä»¥ä¸Šå‘½ä»¤ä¼šæŠŠåŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»$Proxy0ä¿å­˜åˆ°æ–‡ä»¶$Proxy0.classä¸­ï¼Œé€šè¿‡ä¸€äº›åç¼–è¯‘å™¨å·¥å…·æ¯”å¦‚JD-GUIï¼ˆhttp://jd.benow.caï¼‰å°±å¯ä»¥å¾—åˆ°æºç ã€‚\nç†è§£äº†ä»£ç†ç±»çš„å®šä¹‰ï¼Œåé¢çš„ä»£ç å°±æ¯”è¾ƒå®¹æ˜“ç†è§£äº†ï¼Œå°±æ˜¯è·å–æ„é€ æ–¹æ³•ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡\nåŠ¨æ€ä»£ç†çš„ä¼˜ç‚¹ä¸å±€é™äºæŸä¸ªç±»ï¼Œå¯ä»¥ä¸ºæœ‰ç›¸åŒéœ€æ±‚çš„ç±»å®ç°åˆ‡é¢é€»è¾‘\nJDKåŠ¨æ€ä»£ç†å±€é™æ€§åªèƒ½ä¸ºæ¥å£åˆ›å»ºä»£ç†ï¼Œè¿”å›çš„ä»£ç†å¯¹è±¡ï¼Œä¹Ÿåªèƒ½è½¬æ¢åˆ°æŸä¸ªæ¥å£ç±»å‹\ncglibå¯ä»¥ä¸ºæ²¡æœ‰æ¥å£çš„ç±»åˆ›å»ºä»£ç†ã€‚\nåŸºæœ¬ç”¨æ³•ç¤ºä¾‹\n\nEnhancerç±»çš„setSuperclassè®¾ç½®è¢«ä»£ç†çš„ç±»\nsetCallbackè®¾ç½®è¢«ä»£ç†ç±»çš„publicéfinalæ–¹æ³•è¢«è°ƒç”¨æ—¶çš„å¤„ç†ç±»\nEnhancerç±»æ”¯æŒå¤šç§ç±»å‹ï¼Œè¿™é‡Œä½¿ç”¨çš„ç±»å®ç°äº†MethodInterceptoræ¥å£\nè¿™é‡Œè°ƒç”¨è¢«ä»£ç†ç±»çš„æ–¹æ³•åªèƒ½æ˜¯proxy.invokeSuper(object, args)ï¼Œä¸èƒ½æ˜¯method.invoke(object, args)\n\ncglibçš„å®ç°æœºåˆ¶ï¼Œæ˜¯é€šè¿‡ç»§æ‰¿å®ç°çš„ï¼ŒåŠ¨æ€åˆ›å»ºä¸€ä¸ªç±»ï¼Œä½†è¿™ä¸ªç±»çš„çˆ¶ç±»æ˜¯è¢«ä»£ç†ç±»ï¼Œä»£ç†ç±»é‡å†™äº†çˆ¶ç±»çš„æ‰€æœ‰publicéfinalæ–¹æ³•ï¼Œæ”¹ä¸ºè°ƒç”¨Callbackä¸­çš„ç›¸å…³æ–¹æ³•ï¼Œåœ¨ä¸Šä¾‹ä¸­ï¼Œè°ƒç”¨SimpleInterceptorçš„interceptæ–¹æ³•ã€‚\nJDKåŠ¨æ€ä»£ç†å’ŒcglibåŠ¨æ€ä»£ç†çš„æ¯”è¾ƒ\nJDKåŠ¨æ€ä»£ç†é¢å‘ä¸€ç»„æ¥å£ï¼Œå®ƒä¸ºè¿™äº›æ¥å£åŠ¨æ€åˆ›å»ºäº†ä¸€ä¸ªå®ç°ç±»ã€‚\næ¥å£çš„å…·ä½“å®ç°é€»è¾‘æ˜¯é€šè¿‡è‡ªå®šä¹‰çš„InvocationHandlerå®ç°çš„\nè¿™ä¸ªå®ç°æ˜¯è‡ªå®šä¹‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶èƒŒåéƒ½ä¸ä¸€å®šæœ‰çœŸæ­£è¢«ä»£ç†çš„å¯¹è±¡ï¼Œä¹Ÿå¯èƒ½æœ‰å¤šä¸ªå®é™…å¯¹è±¡ï¼Œæ ¹æ®æƒ…å†µåŠ¨æ€é€‰æ‹©\nä»£ç†çš„æ˜¯å¯¹è±¡ï¼Œéœ€è¦å…ˆæœ‰ä¸€ä¸ªå®é™…çš„å¯¹è±¡ï¼Œè‡ªå®šä¹‰çš„InvocationHandlerå¼•ç”¨è¯¥å¯¹è±¡ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªä»£ç†ç±»å’Œä»£ç†å¯¹è±¡ï¼Œå®¢æˆ·ç«¯è®¿é—®çš„æ˜¯ä»£ç†å¯¹è±¡ï¼Œä»£ç†å¯¹è±¡æœ€åå†è°ƒç”¨å®é™…å¯¹è±¡çš„æ–¹æ³•\n\n\ncglibä»£ç†é¢å‘ä¸€ä¸ªå…·ä½“çš„ç±»\nåŠ¨æ€åˆ›å»ºä¸€ä¸ªæ–°ç±»ï¼Œç»§æ‰¿è¯¥ç±»ï¼Œé‡å†™å…¶æ–¹æ³•\ncglibä»£ç†çš„æ˜¯ç±»ï¼Œåˆ›å»ºçš„å¯¹è±¡åªæœ‰ä¸€ä¸ª\n\n\n\nåŠ¨æ€ä»£ç†çš„åº”ç”¨â€”â€”AOPå®ç°åŸç†\nä»£ç åœ°å€\næ€»ç»“æœ¬æ–‡ä¸»è¦å­¦ä¹ äº†åŠ¨æ€ä»£ç†ï¼Œè¯»å®Œååº”è¯¥çŸ¥é“è¿™äº›å†…å®¹\n\nä»€ä¹ˆæ˜¯ä»£ç†\nä»€ä¹ˆæ˜¯é™æ€ä»£ç†ï¼Ÿå’Œé€‚é…å™¨ã€è£…é¥°å™¨æ¨¡å¼çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ\nä¸ºä»€ä¹ˆå®é™…ä½¿ç”¨å¾ˆå°‘ç”¨é™æ€ä»£ç†\nJavaè¯­è¨€ä¸­åŠ¨æ€ä»£ç†çš„ä¸¤ç§æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿå†…éƒ¨æ˜¯å¦‚ä½•å»å®ç°çš„ï¼Ÿ\nåŠ¨æ€ä»£ç†å¯ä»¥ç”¨æ¥åšä»€ä¹ˆï¼Ÿ\n\nåŸºæœ¬ä¸Šæ˜¯å±‚å±‚é€’è¿›ï¼Œåˆ°æœ€åï¼ŒåŠ¨æ€ä»£ç†çš„å…¸å‹åº”ç”¨AOPï¼Œå¯ä»¥è¯´æ˜¯å¾ˆå¤šæ¡†æ¶çš„åŸºç¡€ï¼Œå¿…é¡»æŒæ¡å…¶åŸç†ã€‚\n","slug":"åŠ¨æ€ä»£ç†","date":"2021-02-14T08:16:34.000Z","categories_index":"Java,åŠ¨æ€ä»£ç†","tags_index":"Java,åŠ¨æ€ä»£ç†","author_index":"Aurora"},{"id":"25abdf87b37439d6db828d8a717bff02","title":"é€‰æ‹©æ’åº","content":"æ’åºè¿‡ç¨‹å‡å¦‚å¯¹å¦‚ä¸‹æ•°ç»„æ’åº\n\næˆ‘ä»¬æ‰“ç®—ä»å°åˆ°å¤§æ’åº\nç¬¬ä¸€è½®å…ˆæ‰¾åˆ°æ•°ç»„ä¸­æœ€å°çš„ï¼Œæ˜¯1\n\nç„¶åå°†1å’Œæ•°ç»„ä¸­ç¬¬ä¸€ä¸ªä½ç½®ä¸Šçš„æ•°äº¤æ¢ï¼Œè¿™æ ·ï¼Œ1å°±æ˜¯æœ€ç»ˆçš„ä½ç½®äº†\n\nç¬¬äºŒè½®é‚£ä¹ˆ1æ’å¥½äº†ï¼Œæˆ‘ä»¬ä»å‰©ä¸‹çš„æ•°é‡Œé¢æ‰¾æœ€å°çš„æ•°ï¼Œæ˜¯2\n\næˆ‘ä»¬å°†2å’Œç¬¬äºŒä¸ªä½ç½®ä¸Šçš„æ•°äº¤æ¢ä½ç½®\n\næ­¤æ—¶ï¼Œ1å’Œ2éƒ½å·²ç»å›ºå®šå¥½äº†ä½ç½®\n\nç¬¬ä¸‰è½®å†ä»ç¬¬ä¸‰ä¸ªä½ç½®å¾€åæ‰¾æœ€å°çš„æ•°ï¼Œç„¶åä¸ç¬¬ä¸‰ä¸ªä½ç½®ä¸Šçš„æ•°äº¤æ¢ä½ç½®\n\n\nä¾æ­¤ç±»æ¨ï¼Œæ‰¾åˆ°æ•°ç»„æœ«å°¾å°±æ’å¥½åºäº†\nç¬¬å››è½®\n\nç¬¬äº”è½®\n\nç¬¬å…­è½®\n\nç¬¬ä¸ƒè½®\nç¬¬å…«è½®\nC++å®ç°#include &lt;iostream&gt;\n\nusing namespace std;\n&#x2F;**\n * é€‰æ‹©æ’åº\n * @param arr\n * @param n\n *&#x2F;\nvoid selectionSort(int arr[], int n)&#123;\n    for (int i &#x3D; 0; i &lt; n; ++i) &#123;\n        &#x2F;&#x2F;å¯»æ‰¾[1,n)åŒºé—´é‡Œçš„æœ€å°å€¼\n        int minIndex &#x3D; i;\n        for (int j &#x3D; i + 1; j &lt; n; ++j) &#123;\n            if(arr[j] &lt; arr[minIndex])&#123;\n                minIndex &#x3D; j;\n            &#125;\n        &#125;\n        swap(arr[i], arr[minIndex]);\n    &#125;\n&#125;\n\nint main()&#123;\n    int a[10] &#x3D; &#123;10,9,8,7,6,5,4,3,2,1&#125;;\n    selectionSort(a, 10);\n\n    for (int i &#x3D; 0; i &lt; 10; ++i) &#123;\n        cout&lt;&lt;a[i]&lt;&lt;&quot; &quot;;\n    &#125;\n    cout&lt;&lt;endl;\n    return 0;\n&#125;\n\n\n\nä½¿ç”¨æ¨¡æ¿ï¼ˆèŒƒå‹ï¼‰ç¼–å†™ç®—æ³•ä¸Šé¢çš„å®ç°ï¼Œåªèƒ½å¯¹intæ•°ç»„æ’åºï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¸åŒçš„ç±»å‹æ’åºï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ°æ¨¡æ¿ï¼Œæœ‰çš„è¯­è¨€å«èŒƒå‹ã€‚\nStudent.h\n\n#ifndef ALGORITHMCPLUSPLUS_STUDENT_H\n#define ALGORITHMCPLUSPLUS_STUDENT_H\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nstruct Student&#123;\n    string name;\n    int score;\n\n    &#x2F;&#x2F; é‡è½½å°äºè¿ç®—æ³•,å®šä¹‰Studentä¹‹é—´çš„æ¯”è¾ƒæ–¹å¼\n    &#x2F;&#x2F; å¦‚æœåˆ†æ•°ç›¸ç­‰ï¼Œåˆ™æŒ‰ç…§åå­—çš„å­—æ¯åºæ’åº\n    &#x2F;&#x2F; å¦‚æœåˆ†æ•°ä¸ç­‰ï¼Œåˆ™åˆ†æ•°é«˜çš„é å‰\n    bool operator&lt;(const Student&amp; otherStudent)&#123;\n        return score !&#x3D; otherStudent.score ?\n               score &gt; otherStudent.score : name &lt; otherStudent.name;\n    &#125;\n\n    &#x2F;&#x2F; é‡è½½&lt;&lt;ç¬¦å·, å®šä¹‰Studentå®ä¾‹çš„æ‰“å°è¾“å‡ºæ–¹å¼\n    &#x2F;&#x2F; * å¾ˆå¤šåŒå­¦çœ‹åˆ°è¿™é‡Œçš„C++è¯­æ³•, å¤´å°±å¤§äº†, ç”šè‡³è¿˜æœ‰åŒå­¦è¡¨ç¤ºè¦é‡æ–°å­¦ä¹ C++è¯­è¨€\n    &#x2F;&#x2F; * å¯¹äºè¿™ä¸ªè¯¾ç¨‹, å¤§å¯ä¸å¿…ã€‚C++è¯­è¨€å¹¶ä¸æ˜¯è¿™ä¸ªè¯¾ç¨‹çš„é‡ç‚¹,\n    &#x2F;&#x2F; * å¤§å®¶ä¹Ÿå®Œå…¨å¯ä»¥ä½¿ç”¨è‡ªå·±çš„æ–¹å¼ä¹¦å†™ä»£ç , æœ€ç»ˆåªè¦èƒ½å¤Ÿæ‰“å°å‡ºç»“æœå°±å¥½äº†, æ¯”å¦‚è®¾ç½®ä¸€ä¸ªæˆå‘˜å‡½æ•°, å«åšshow()...\n    &#x2F;&#x2F; * æ¨èå¤§å®¶é˜…è¯»æˆ‘åœ¨é—®ç­”åŒºå‘å¤§å®¶åˆ†äº«çš„ä¸€ä¸ªå­¦ä¹ å¿ƒå¾—: ã€å­¦ä¹ å¿ƒå¾—åˆ†äº«ã€‘è¯·å¤§å®¶æŠ“å¤§æ”¾å°ï¼Œä¸è¦çº ç»“äºC++è¯­è¨€çš„è¯­æ³•ç»†èŠ‚\n    &#x2F;&#x2F; * é“¾æ¥: http:&#x2F;&#x2F;coding.imooc.com&#x2F;learn&#x2F;questiondetail&#x2F;4100.html\n    friend ostream&amp; operator&lt;&lt;(ostream &amp;os, const Student &amp;student)&#123;\n\n        os&lt;&lt;&quot;Student: &quot;&lt;&lt;student.name&lt;&lt;&quot; &quot;&lt;&lt;student.score&lt;&lt;endl;\n        return os;\n    &#125;\n&#125;;\n\n#endif &#x2F;&#x2F;ALGORITHMCPLUSPLUS_STUDENT_H\n\nmain.cpp\n#include &lt;iostream&gt;\n\nusing namespace std;\n#include &quot;Student.h&quot;\ntemplate&lt;typename T&gt;\n&#x2F;**\n * é€‰æ‹©æ’åº\n * @param arr\n * @param n\n *&#x2F;\nvoid selectionSort(T arr[], int n)&#123;\n    for (int i &#x3D; 0; i &lt; n; ++i) &#123;\n        &#x2F;&#x2F;å¯»æ‰¾[1,n)åŒºé—´é‡Œçš„æœ€å°å€¼\n        int minIndex &#x3D; i;\n        for (int j &#x3D; i + 1; j &lt; n; ++j) &#123;\n            if(arr[j] &lt; arr[minIndex])&#123;\n                minIndex &#x3D; j;\n            &#125;\n        &#125;\n        swap(arr[i], arr[minIndex]);\n    &#125;\n&#125;\n\nint main()&#123;\n    int a[10] &#x3D; &#123;10,9,8,7,6,5,4,3,2,1&#125;;\n    selectionSort(a, 10);\n\n    for (int i &#x3D; 0; i &lt; 10; ++i) &#123;\n        cout&lt;&lt;a[i]&lt;&lt;&quot; &quot;;\n    &#125;\n    cout&lt;&lt;endl;\n\n    float b[4] &#x3D; &#123;4.4,3.3,2.2,1.1&#125;;\n    selectionSort(b, 4);\n    for (int i &#x3D; 0; i &lt; 4; ++i) &#123;\n        cout&lt;&lt;b[i]&lt;&lt; &quot; &quot;;\n    &#125;\n    cout&lt;&lt;endl;\n\n    string c[4] &#x3D; &#123;&quot;D&quot;,&quot;C&quot;,&quot;B&quot;,&quot;A&quot;&#125;;\n    selectionSort(c,4);\n    for( int i &#x3D; 0 ; i &lt; 4 ; i ++ )\n        cout&lt;&lt;c[i]&lt;&lt;&quot; &quot;;\n    cout&lt;&lt;endl;\n\n    Student d[4] &#x3D; &#123; &#123;&quot;D&quot;,90&#125; , &#123;&quot;C&quot;,100&#125; , &#123;&quot;B&quot;,95&#125; , &#123;&quot;A&quot;,95&#125; &#125;;\n    selectionSort(d,4);\n    for( int i &#x3D; 0 ; i &lt; 4 ; i ++ )\n        cout&lt;&lt;d[i];\n    cout&lt;&lt;endl;\n    return 0;\n&#125;\n\néšæœºç”Ÿæˆç®—æ³•æµ‹è¯•ç”¨ä¾‹ï¼ˆé€‰å­¦ï¼‰æ€è€ƒğŸ¤”ï¼š\næˆ‘ä»¬ä¸Šé¢ä»£ç çš„æµ‹è¯•ç”¨ä¾‹æ˜¯ç¡¬ç¼–ç çš„ï¼Œæˆ‘ä»¬å¸Œæœ›ç”Ÿæˆè‡ªåŠ¨ç”Ÿæˆã€‚\nSortTestHelper.h\n#ifndef ALGORITHMCPLUSPLUS_SORTTESTHELPER_H\n#define ALGORITHMCPLUSPLUS_SORTTESTHELPER_H\n#include &lt;iostream&gt;\n#include &lt;ctime&gt;\n#include &lt;cassert&gt;\n\nusing namespace std;\n\nnamespace SortTestHelper &#123;\n&#x2F;&#x2F; ç”Ÿæˆæœ‰nä¸ªå…ƒç´ çš„éšæœºæ•°ç»„,æ¯ä¸ªå…ƒç´ çš„éšæœºèŒƒå›´ä¸º[rangeL, rangeR]\n    int *generateRandomArray(int n, int rangeL, int rangeR) &#123;\n\n        assert(rangeL &lt;&#x3D; rangeR);\n\n        int *arr &#x3D; new int[n];\n\n        srand(time(NULL));\n        for (int i &#x3D; 0; i &lt; n; i++)\n            arr[i] &#x3D; rand() % (rangeR - rangeL + 1) + rangeL;\n        return arr;\n    &#125;\n\n    &#x2F;&#x2F; æ‰“å°arræ•°ç»„çš„æ‰€æœ‰å†…å®¹\n    template&lt;typename T&gt;\n    void printArray(T arr[], int n) &#123;\n\n        for (int i &#x3D; 0; i &lt; n; i++)\n            cout &lt;&lt; arr[i] &lt;&lt; &quot; &quot;;\n        cout &lt;&lt; endl;\n\n        return;\n    &#125;\n  &#x2F;&#x2F; åˆ¤æ–­arræ•°ç»„æ˜¯å¦æœ‰åº\n    template&lt;typename T&gt;\n    bool isSorted(T arr[], int n) &#123;\n\n        for (int i &#x3D; 0; i &lt; n - 1; i++)\n            if (arr[i] &gt; arr[i + 1])\n                return false;\n\n        return true;\n    &#125;\n\n    &#x2F;&#x2F; æµ‹è¯•sortæ’åºç®—æ³•æ’åºarræ•°ç»„æ‰€å¾—åˆ°ç»“æœçš„æ­£ç¡®æ€§å’Œç®—æ³•è¿è¡Œæ—¶é—´\n    &#x2F;&#x2F; * ä½¿ç”¨VSç¼–ç çš„åŒå­¦, å¯¹äºå‡½æ•°æŒ‡é’ˆçš„å†™æ³•å’Œè°ƒç”¨æ–¹æ³•å¯èƒ½å’Œè¯¾ç¨‹ä¸­ä»‹ç»çš„æœ‰æ‰€ä¸åŒ;\n    &#x2F;&#x2F; * å¹¶ä¸”ä¸åŒç‰ˆæœ¬çš„VS, å…¶å…·ä½“è¯­æ³•å¯èƒ½ä¹Ÿæœ‰å·®å¼‚, è¿™æ˜¯å› ä¸ºVSçš„ç¼–è¯‘å™¨ä¸å®Œå…¨æ˜¯æŒ‰ç…§C++çš„æ ‡å‡†å®ç°çš„;\n    &#x2F;&#x2F; * æœ¬è¯¾ç¨‹æŒ‰ç…§C++11çš„æ ‡å‡†è¿›è¡Œä¹¦å†™ã€‚å¯¹äºVSç¼–è¯‘å™¨å¸¦æ¥çš„è¯­æ³•å·®å¼‚, å¸Œæœ›åŒå­¦ä»¬å¯ä»¥è‡ªå·±åœ¨ç½‘ä¸ŠæŸ¥æ‰¾ç›¸å…³èµ„æ–™è§£å†³;\n    &#x2F;&#x2F; * å¤§å®¶ä¹Ÿå¯ä»¥åœ¨è¯¾ç¨‹çš„å®˜æ–¹QQç¾¤ä¸­äº¤æµ\n    &#x2F;&#x2F; * å¦å¤–, ä½¿ç”¨å‡½æ•°æŒ‡é’ˆæœ¬èº«å¹¶ä¸æ˜¯è¿™ä¸ªè¯¾ç¨‹çš„é‡ç‚¹, å¤§å®¶ä¹Ÿå®Œå…¨å¯ä»¥ä½¿ç”¨è‡ªå·±çš„æ–¹å¼ä¹¦å†™ä»£ç , æœ€ç»ˆåªè¦èƒ½å¤Ÿæµ‹è¯•å‡ºè‡ªå·±ä¹¦å†™çš„ç®—æ³•çš„æ•ˆç‡å³å¯\n    &#x2F;&#x2F; * æ¨èå¤§å®¶é˜…è¯»æˆ‘åœ¨é—®ç­”åŒºå‘å¤§å®¶åˆ†äº«çš„ä¸€ä¸ªå­¦ä¹ å¿ƒå¾—: ã€å­¦ä¹ å¿ƒå¾—åˆ†äº«ã€‘è¯·å¤§å®¶æŠ“å¤§æ”¾å°ï¼Œä¸è¦çº ç»“äºC++è¯­è¨€çš„è¯­æ³•ç»†èŠ‚\n    &#x2F;&#x2F; * é“¾æ¥: http:&#x2F;&#x2F;coding.imooc.com&#x2F;learn&#x2F;questiondetail&#x2F;4100.html\n    template&lt;typename T&gt;\n    void testSort(const string &amp;sortName, void (*sort)(T[], int), T arr[], int n) &#123;\n\n        clock_t startTime &#x3D; clock();\n        sort(arr, n);\n        clock_t endTime &#x3D; clock();\n\n        assert(isSorted(arr, n));\n        cout &lt;&lt; sortName &lt;&lt; &quot; : &quot; &lt;&lt; double(endTime - startTime) &#x2F; CLOCKS_PER_SEC &lt;&lt; &quot; s&quot; &lt;&lt; endl;\n&#x2F;&#x2F;CLOCKS_PER_SECè¡¨ç¤ºæ¯ç§’è¿è¡Œçš„æ—¶é—´å‘¨æœŸæ•°\n        return;\n    &#125;\n&#125;;\n#endif &#x2F;&#x2F;ALGORITHMCPLUSPLUS_SORTTESTHELPER_H\n\ntestSortå‡½æ•°çš„å…¥å‚void (*sort)(T[], int)æ˜¯å¯¹ä¸€ä¸ªå‡½æ•°çš„å£°æ˜ï¼Œå…¶ä¸­\n\nvoid æ˜¯è¿”å›å€¼ï¼Œè¡¨ç¤ºè¿”å›void\n\n*sortæ˜¯å‡½æ•°æŒ‡é’ˆ\n\n(T[], int)è¡¨ç¤ºå‚æ•°ï¼ŒTæ•°ç»„å’Œintç±»å‹å˜é‡è¡¨ç¤ºé•¿åº¦\n\n\nå¹¶ä¸”åœ¨å‡½æ•°å£°æ˜ä¸Šæ–¹è¦å¯¹Tè¿›è¡Œå£°æ˜ï¼Œtemplate\nmain.cpp\n#include &lt;iostream&gt;\n#include &quot;SortTestHelper.h&quot;\n\nusing namespace std;\n\ntemplate&lt;typename T&gt;\nvoid selectionSort(T arr[], int n)&#123;\n\n    for(int i &#x3D; 0 ; i &lt; n ; i ++)&#123;\n\n        int minIndex &#x3D; i;\n        for( int j &#x3D; i + 1 ; j &lt; n ; j ++ )\n            if( arr[j] &lt; arr[minIndex] )\n                minIndex &#x3D; j;\n\n        swap( arr[i] , arr[minIndex] );\n    &#125;\n&#125;\n\nint main() &#123;\n\n    &#x2F;&#x2F; æµ‹è¯•æ’åºç®—æ³•è¾…åŠ©å‡½æ•°\n    int N &#x3D; 20000;\n    int *arr &#x3D; SortTestHelper::generateRandomArray(N,0,100000);\n    selectionSort(arr,N);\n    SortTestHelper::printArray(arr,N);\n    delete[] arr;\n\n    return 0;\n&#125;\n","slug":"selection-sort","date":"2021-02-12T14:33:00.000Z","categories_index":"Algorithm,C++","tags_index":"ç®—æ³•,C++","author_index":"Aurora"},{"id":"7749a2b5879f92c33b3cacbb2a610b9b","title":"ç±»åŠ è½½æœºåˆ¶","content":"ç±»åŠ è½½å™¨å¯ä»¥åšä»€ä¹ˆçƒ­éƒ¨ç½²ä¸é‡å¯Javaç¨‹åºçš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€æ›¿æ¢ç±»çš„å®ç°\næ¯”å¦‚JSPã€OSGI\nåº”ç”¨çš„æ¨¡å—åŒ–å’Œéš”ç¦»ä¸åŒçš„ç±»åŠ è½½å™¨å¯ä»¥åŠ è½½ç›¸åŒçš„ç±»ï¼Œä½†äº’ç›¸éš”ç¦»ã€äº’ä¸å½±å“\næ¯”å¦‚ï¼š\n\nTomcatåœ¨ä¸€ä¸ªç¨‹åºä¸­ç®¡ç†å¤šä¸ªWebåº”ç”¨ï¼Œæ¯ä¸ªWebåº”ç”¨æœ‰è‡ªå·±çš„classloader\nOSGIå’ŒJava9å®ç°åŠ¨æ€æ¨¡å—åŒ–æ¶æ„ï¼Œæ¯ä¸ªæ¨¡å—æœ‰è‡ªå·±çš„ClassLoader\n\nå¯ä»¥ä»ä¸åŒçš„åœ°æ–¹çµæ´»åŠ è½½ç±»ä¸ºä»€ä¹ˆè¦å­¦è‡ªå®šä¹‰classloader\næœ‰åŠ©äºæˆ‘ä»¬ç†è§£ç›¸å…³çš„ç³»ç»Ÿå’Œæ¡†æ¶ï¼Œæ¯”å¦‚Tomcat\nåœ¨ä¸šåŠ¡éœ€è¦çš„æ—¶å€™ï¼Œå¯ä»¥è‡ªå®šä¹‰classloaderå®ç°åŠ¨æ€çµæ´»çš„åŠŸèƒ½\n\nç±»åŠ è½½çš„åŸºæœ¬æœºåˆ¶å’Œè¿‡ç¨‹é¦–å…ˆäº†è§£ä¸‹ï¼ŒJDKæä¾›çš„å‡ ä¸ªç±»åŠ è½½å™¨\n\nå¯åŠ¨ç±»åŠ è½½å™¨ã€‚åŠ è½½åŸºç¡€ç±»ï¼Œä¸»è¦æ˜¯rt.jar\næ‰©å±•ç±»åŠ è½½å™¨ã€‚åŠ è½½extç›®å½•ä¸‹çš„jar\nåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ã€‚åŠ è½½åº”ç”¨ç¨‹åºçš„ç±»ï¼ŒåŒ…æ‹¬è‡ªå·±å†™çš„å’Œå¼•å…¥çš„ç¬¬ä¸‰æ–¹æ³•ç±»åº“\n\nè¦ç‚¹ï¼šç±»åŠ è½½å™¨ä¹‹é—´çš„å…³ç³»ï¼Œä¸æ˜¯ç»§æ‰¿å…³ç³»ï¼Œæ˜¯å§”æ´¾å…³ç³»ã€‚\nåŠ è½½è¿‡ç¨‹\nåˆ¤æ–­ç±»æ˜¯å¦åŠ è½½è¿‡äº†ï¼Œæ²¡æœ‰å°±ä¸€å±‚å±‚å‘ä¸Šå§”æ´¾ç»™çˆ¶ç±»ï¼Œæœ€åå…ˆè®©å¯åŠ¨ç±»åŠ è½½å™¨åŠ è½½\nå¯åŠ¨ç±»åŠ è½½åˆ°äº†ï¼Œå°±è¿”å›Classå¯¹è±¡ï¼Œå¦åˆ™å°±è®©extåŠ è½½å™¨åŠ è½½\nextåŠ è½½å™¨åŠ è½½åˆ°äº†ï¼Œå°±è¿”å›Classå¯¹è±¡ï¼Œå¦åˆ™å°±è®©åº”ç”¨ç±»åŠ è½½å™¨åŠ è½½\nåº”ç”¨ç±»åŠ è½½å™¨åŠ è½½åˆ°äº†ï¼Œå°±è¿”å›Classå¯¹è±¡ï¼Œå¦åˆ™è¿”å›æŠ›å¼‚å¸¸\n\nä¸Šé¢çš„åŠ è½½è¿‡ç¨‹å°±æ˜¯åŒäº²å§”æ´¾ï¼Œä¸€ä¸ªç±»åŠ è½½æ—¶ï¼Œå§”æ´¾ç»™extç±»åŠ è½½å™¨ï¼Œå†å§”æ´¾ç»™å¯åŠ¨ç±»åŠ è½½å™¨\nè¿™æ ·å¯ä»¥é¿å…JavaåŸºç¡€ç±»åº“è¢«è¦†ç›–\nJDKå…è®¸ä¸éµå¾ªä¸Šé¢çš„åŠ è½½è¿‡ç¨‹ï¼Œæ‰“ç ´åŒäº²å§”æ´¾è§„åˆ™ï¼š\n\nè‡ªå®šä¹‰çš„åŠ è½½é¡ºåº\nå³ä½¿ä¸éµå®ˆåŒäº²å§”æ´¾ï¼Œä»¥javaå¼€å¤´çš„ç±»ä¹Ÿä¸èƒ½è¢«è‡ªå®šä¹‰ç±»åŠ è½½å™¨åŠ è½½ï¼Œè¿™æ˜¯ç”±Javaçš„å®‰å…¨æœºåˆ¶ä¿è¯çš„ï¼Œä»¥é¿å…æ··ä¹±ã€‚\n\n\nç½‘çŠ¶åŠ è½½é¡ºåº\nOSGIå’ŒJava9æ¨¡å—åŒ–ç³»ç»Ÿï¼Œç±»åŠ è½½å™¨ä¹‹é—´çš„å…³ç³»æ˜¯ä¸€ä¸ªç½‘ï¼Œæ¯ä¸ªæ¨¡å—æœ‰ä¸€ä¸ªç±»åŠ è½½å™¨\n\n\nçˆ¶åŠ è½½å™¨å§”æ´¾ç»™å­åŠ è½½å™¨åŠ è½½\nJNDIæœåŠ¡\n\n\n\nç†è§£ClassLoaderClassLoaderç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ã€‚\næœ‰ä¸¤ä¸ªå­ç±»\n\nAppClassLoader\nExtClassLoader\n\nBootstrapClassLoaderå¹¶ä¸æ˜¯å®ƒçš„å­ç±»ï¼ŒBootstrapClassLoaderæ˜¯C++å†™çš„ï¼Œç”¨äºåŠ è½½javaåŸºç¡€ç±»çš„ã€‚\nClasså¯¹è±¡çš„APIgetClassLoadergetClassLoaderè·å–ClassLoaderï¼Œæ¥çœ‹çœ‹ClassLoaderçš„API\n\ngetParent\nå¦‚æœparentæ˜¯Bootstrap ClassLoaderï¼Œè¿”å›å€¼ä¸ºnull\n\n\né™æ€æ–¹æ³•getSystemClassLoader\nè·å–é»˜è®¤çš„ç³»ç»Ÿç±»æœºè½½å™¨\n\n\nloadeClassæ–¹æ³•\n\n\n\næ·±å…¥loadClassæ–¹æ³•\n\n\n\n\nClass.forName\n\nç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œä½¿ç”¨ç³»ç»Ÿç±»åŠ è½½å™¨åŠ è½½\nç¬¬äºŒä¸ªæ–¹æ³•ï¼ŒæŒ‡å®šClassLoaderï¼Œå‚æ•°initializeè¡¨ç¤ºåŠ è½½åæ˜¯å¦æ‰§è¡Œç±»çš„åˆå§‹åŒ–ä»£ç ï¼ˆå¦‚staticä»£ç å—ï¼‰ï¼Œæ²¡æœ‰æŒ‡å®šé»˜è®¤trueã€‚\n\nClass.forNameå’ŒClassLoaderçš„loadClassæ–¹æ³•éƒ½èƒ½åŠ è½½ç±»\nä¸åŒç‚¹ï¼šClassLoaderçš„loadClassæ–¹æ³•ä¸ä¼šæ‰§è¡Œç±»çš„åˆå§‹åŒ–ä»£ç \npublic class CLInitDemo &#123;\n    public static class Hello &#123;\n        static &#123;\n            System.out.println(&quot;hello&quot;);\n        &#125;\n    &#125;;\n\n    public static void main(String[] args) &#123;\n        ClassLoader cl &#x3D; ClassLoader.getSystemClassLoader();\n        String className &#x3D; CLInitDemo.class.getName() + &quot;$Hello&quot;;\n        try &#123;\n            &#x2F;&#x2F;ä¸ä¼šåˆå§‹åŒ–ç±»ï¼Œä¸ä¼šæ‰§è¡Œé™æ€æ–¹æ³•å’Œä»£ç å—\n\t\t\tClass&lt;?&gt; cls &#x3D; cl.loadClass(className);\n\t\t\t&#x2F;&#x2F;ä¼šåˆå§‹åŒ–ç±»ï¼Œä¼šæ‰§è¡Œé™æ€æ–¹æ³•å’Œé™æ€ä»£ç å—\n&#x2F;&#x2F;            Class&lt;?&gt; cls &#x3D; Class.forName(className);\n        &#125; catch (ClassNotFoundException e) &#123;\n            e.printStackTrace();\n        &#125;\n    &#125;\n&#125;\n\nç±»åŠ è½½å™¨çš„åº”ç”¨ï¼šå¯é…ç½®çš„ç­–ç•¥ç­–ç•¥æ¨¡å¼ï¼Œå°†ä¸åŒç­–ç•¥å®ç°ç±»ï¼Œé…ç½®åœ¨å¤–éƒ¨æ–‡ä»¶ä¸­ï¼Œä¸åŒåœºåˆä½¿ç”¨ä¸åŒçš„é…ç½®ï¼Œé€šè¿‡åå°„ã€ç±»åŠ è½½å™¨åŠ è½½é…ç½®ä¸­çš„ç±»ã€‚ä¸éœ€è¦æ”¹ä»£ç å°±å¯ä»¥æ”¹å˜ç¨‹åºçš„è¡Œä¸º\nä»£ç åœ°å€\nè‡ªå®šä¹‰ClassLoaderä¸€èˆ¬æ­¥éª¤\nç»§æ‰¿ClassLoader\né‡å†™findClass\nä»classæ–‡ä»¶ä½ç½®åŠ è½½ç±»\nè½¬æˆå­—èŠ‚æ•°ç»„\nè°ƒç”¨defineClassæ–¹æ³•\n\n\n\næ¡ˆä¾‹public class MyClassLoader extends ClassLoader&#123;\n    private static final String BASE_DIR &#x3D; &quot;data&#x2F;classloader&#x2F;&quot;;\n\n    @Override\n    protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException &#123;\n        String fileName &#x3D; name.replaceAll(&quot;\\\\.&quot;, &quot;&#x2F;&quot;);\n        fileName &#x3D; BASE_DIR + fileName + &quot;.class&quot;;\n        try &#123;\n            byte[] bytes &#x3D; BinaryFileUtils.readFileToByteArray(fileName);\n            return defineClass(name, bytes, 0, bytes.length);\n        &#125; catch (IOException ex) &#123;\n            throw new ClassNotFoundException(&quot;failed to load class &quot; + name, ex);\n        &#125;\n    &#125;\n&#125;\n\nè‡ªå®šä¹‰äº†ç±»åŠ è½½å™¨ä¹‹åå‘¢ï¼Ÿèƒ½å¹²å˜›ï¼Ÿ\nå¯ä»¥åˆ›å»ºå¤šä¸ªMyClassLoaderï¼Œå¯¹åŒä¸€ä¸ªç±»ï¼Œæ¯ä¸ªMyClassLoaderéƒ½å¯ä»¥åŠ è½½ä¸€æ¬¡ï¼Œå¾—åˆ°åŒä¸€ä¸ªç±»å¯¹ä¸åŒClasså¯¹è±¡\nå¯ä»¥å®ç°éš”ç¦»\nä¸åŒæ¨¡å—ä½¿ç”¨ä¸åŒçš„ç±»åŠ è½½å™¨\n\n\nå¯ä»¥å®ç°çƒ­éƒ¨ç½²\nä½¿ç”¨è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼ŒåŠ è½½Classï¼Œå¾—åˆ°çš„å°±æ˜¯æ–°çš„ï¼Œä»è€Œå¯ä»¥å®ç°åŠ¨æ€æ›´æ–°\n\n\n\nçƒ­éƒ¨ç½²å®éªŒpublic class HotDeployDemo &#123;\n    &#x2F;**\n     * å®ç°ç±»åç§°\n     *&#x2F;\n    private static final String CLASS_NAME &#x3D; &quot;com.kim.base.classloader.custom.HelloImpl&quot;;\n    &#x2F;**\n     * classæ–‡ä»¶è·¯å¾„\n     *&#x2F;\n    private static final String FILE_NAME &#x3D; &quot;target&#x2F;classes&#x2F;&quot;\n            +CLASS_NAME.replaceAll(&quot;\\\\.&quot;, &quot;&#x2F;&quot;)+&quot;.class&quot;;\n    &#x2F;**\n     * IHelloServiceå®ç°ç±»\n     *&#x2F;\n    private static volatile IHelloService helloService;\n\n    public static IHelloService getHelloService() &#123;\n        if (helloService !&#x3D; null) &#123;\n            return helloService;\n        &#125;\n        synchronized (HotDeployDemo.class) &#123;\n            if (helloService &#x3D;&#x3D; null) &#123;\n                helloService &#x3D; createHelloService();\n            &#125;\n            return helloService;\n        &#125;\n    &#125;\n\n    &#x2F;**\n     * é€šè¿‡è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œä»æŒ‡å®šçš„ç›®å½•åŠ è½½IHelloServiceå®ç°ç±»\n     * @return\n     *&#x2F;\n    private static IHelloService createHelloService() &#123;\n        try &#123;\n            MyClassLoader cl &#x3D; new MyClassLoader();\n            Class&lt;?&gt; cls &#x3D; cl.loadClass(CLASS_NAME);\n            if (cls !&#x3D; null) &#123;\n                return (IHelloService) cls.newInstance();\n            &#125;\n        &#125; catch (Exception e) &#123;\n            e.printStackTrace();\n        &#125;\n        return null;\n    &#125;\n\n    public static void client() &#123;\n        Thread t &#x3D; new Thread() &#123;\n            @Override\n            public void run() &#123;\n                try &#123;\n                    while (true) &#123;\n                        IHelloService helloService &#x3D; getHelloService();\n                        helloService.sayHello();\n                        Thread.sleep(1000);\n                    &#125;\n                &#125; catch (InterruptedException e) &#123;\n                &#125;\n            &#125;\n        &#125;;\n        t.start();\n    &#125;\n\n    &#x2F;**\n     * ä¸€ä¸ªç›‘è§†æ–‡ä»¶å˜åŒ–çš„çº¿ç¨‹ï¼Œæ–‡ä»¶å¦‚æœå˜åŒ–äº†ï¼Œå°±é‡æ–°åŠ è½½\n     *&#x2F;\n    public static void monitor() &#123;\n        Thread t &#x3D; new Thread() &#123;\n            private long lastModified &#x3D; new File(FILE_NAME).lastModified();\n\n            @Override\n            public void run() &#123;\n                try &#123;\n                    while (true) &#123;\n                        Thread.sleep(100);\n                        long now &#x3D; new File(FILE_NAME).lastModified();\n                        if (now !&#x3D; lastModified) &#123;\n                            lastModified &#x3D; now;\n                            reloadHelloService();\n                        &#125;\n                    &#125;\n                &#125; catch (InterruptedException e) &#123;\n                &#125;\n            &#125;\n        &#125;;\n        t.start();\n    &#125;\n\n    public static void reloadHelloService() &#123;\n        System.out.println(&quot;æ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œé‡æ–°åŠ è½½&quot;);\n        helloService &#x3D; createHelloService();\n    &#125;\n\n    public static void main(String[] args) &#123;\n        monitor();\n        client();\n    &#125;\n&#125;\n\n\næˆ‘ä»¬æŠŠåˆ›å»ºHelloServiceçš„å®ç°çš„æ–¹å¼æå–å‡ºæ¥ï¼Œé€šè¿‡è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œåœ¨æŒ‡å®šç›®å½•åŠ è½½ä»–çš„å®ç°\næˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œç›‘å¬è‡ªå®šä¹‰ç±»åŠ è½½å™¨åŠ è½½ç±»çš„åœ°æ–¹ï¼Œç›‘å¬å…·ä½“æ–‡ä»¶çš„å˜åŒ–ï¼Œæœ‰å˜åŒ–å°±é‡æ–°å®ä¾‹åŒ–ä¸€ä¸ªè‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼ŒåŠ è½½æ–°çš„ç±»ï¼Œä½¿å…¶ç”Ÿæ•ˆ\næ¨¡æ‹Ÿå®¢æˆ·ç«¯è°ƒç”¨\nç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œæ— é™å¾ªç¯å»è°ƒç”¨helloServicveçš„æ–¹æ³•sayHello\n\n\n\næ€»ç»“é€šè¿‡ç±»åŠ è½½å™¨çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“äº†ç±»åŠ è½½å™¨æœ€èµ·ç å¯ä»¥åšå¦‚ä¸‹ä¸‰æ ·äº‹æƒ…ï¼š\n\nçƒ­éƒ¨ç½²\nåº”ç”¨çš„æ¨¡å—åŒ–å’Œéš”ç¦»\nä»ä¸åŒçš„åœ°æ–¹çµæ´»åŠ è½½\n\næˆ‘ä»¬ä½¿ç”¨çš„tomcatå°±æ˜¯ä½¿ç”¨ç±»åŠ è½½å™¨çš„å…¸å‹ä¾‹å­ï¼Œé€šè¿‡æ¡ˆä¾‹å’Œå®éªŒä»£ç çš„è¿è¡Œã€è°ƒè¯•ã€ç†è§£ï¼Œå¯¹ç±»åŠ è½½å™¨çš„åº”ç”¨åº”è¯¥ä¼šæœ‰æ›´æ·±çš„ç†è§£ï¼Œå¯¹tomcatçš„è¿è¡Œæœºåˆ¶ä¹Ÿä¸ä¼šè§‰å¾—é‚£ä¹ˆç¥ç§˜ã€‚\nè¯»è€…è‡ªå·±å¯ä»¥è¯•è¯•å®ç°ä¸€ä¸ªç®€å•çš„tomcatï¼Œå¯ä»¥å®ç°çƒ­éƒ¨ç½²ã€åº”ç”¨çš„éš”ç¦»ã€‚\n","slug":"ç±»åŠ è½½æœºåˆ¶","date":"2021-02-09T12:58:16.000Z","categories_index":"Java,ClassLoader","tags_index":"Java,ç±»åŠ è½½å™¨","author_index":"Aurora"},{"id":"a07ffd4c9309478a5fb940206e09d98f","title":"æˆ‘åº”è¯¥å†™ä»€ä¹ˆ","content":"æŠ˜è…¾äº†ä¸€å¤©ï¼Œé‡æ–°æŠŠhexoåšå®¢å»ºå¥½äº†\nä¸æƒ³å†æŠ˜è…¾äº†\næ‰“ç®—è¦å†™çš„å†…å®¹ï¼Œè®¡åˆ’ç”¨åšå®¢æ¥åšä»€ä¹ˆ\n\nè®°å½•å­¦ä¹ è¿‡ç¨‹ï¼Œä¸»è¦è®°å½•è¯»ä¹¦ç¬”è®°ã€æ€ç»´å¯¼å›¾çš„æ€»ç»“ã€æ•™ç¨‹çš„æ€»ç»“ï¼ˆJavaã€åˆ†å¸ƒå¼å¾®æœåŠ¡ã€æ•°æ®å­˜å‚¨ã€ç®—æ³•ã€ä¸­é—´ä»¶æºç æ¶æ„è®¾è®¡ï¼‰\nè®°å½•æ’æŸ¥é—®é¢˜çš„è¿‡ç¨‹\nè®°å½•ç”Ÿæ´»ä¸­çš„æƒ³æ³•ï¼ˆæ—…æ¸¸ã€å¸¦å¨ƒã€ç”Ÿæ´»ä¹ æƒ¯å…»æˆã€è¿åŠ¨ï¼‰\n\nä¸è¯¥å†™çš„å†…å®¹\n\nä¸è¯¥å½“ä½œå¤‡å¿˜å½•\nä¸å†™æ²¡æœ‰ä½“ç³»ï¼Œä¸å†™æŠ€æœ¯ã€ç”Ÿæ´»æ— å…³çš„å†…å®¹\n\nåšå®¢åº”è¯¥å…·å¤‡çš„èƒ½åŠ›\n\nå­—æ•°ç»Ÿè®¡\nè®¿é—®ç»Ÿè®¡\nè¯„è®ºç³»ç»Ÿ\nä¸ªäººç®€ä»‹ã€ç»å†ï¼ˆè®©åˆ«äººè®¤è¯†ä½ ï¼‰\n\næ¥ä¸‹æ¥ï¼ŒæŠŠä¸Šé¢åšå®¢çš„èƒ½åŠ›å®ç°ï¼Œç„¶åä»Javaã€ç®—æ³•å¼€å§‹\n","slug":"æˆ‘åº”è¯¥å†™ä»€ä¹ˆ","date":"2021-02-08T08:44:58.000Z","categories_index":"Diary,Life","tags_index":"Diary,Life","author_index":"Aurora"}]